{"ast":null,"code":"var _jsxFileName = \"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/components/ProductForms/AddProduct.jsx\";\nimport React from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { Form, Button, InputGroup } from \"react-bootstrap\";\nimport { XLg } from \"react-bootstrap-icons\";\nimport Swal from \"sweetalert2\";\nimport axios from \"axios\";\nimport { SERVER_HOST, CATEGORIES, COLOURS } from \"../../config/global_constants.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AddProduct extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleFileChange = e => {\n      console.log(e.target.files);\n      this.setState({\n        selectedFiles: e.target.files\n      });\n    };\n\n    this.addCategory = e => {\n      if (this.state.selectedCategory !== \"\" && !this.state.categories.includes(this.state.selectedCategory)) {\n        this.setState({\n          categories: [...this.state.categories, this.state.selectedCategory]\n        });\n      }\n    };\n\n    this.removeCategory = e => {\n      this.setState({\n        categories: this.state.categories.filter(g => g !== e.currentTarget.dataset.id)\n      });\n    };\n\n    this.addColour = e => {\n      if (this.state.selectedColours !== \"\" && !this.state.colours.includes(this.state.selectedColours)) {\n        this.setState({\n          colours: [...this.state.colours, this.state.selectedColours]\n        });\n      }\n    };\n\n    this.removeColour = e => {\n      this.setState({\n        colours: this.state.colours.filter(g => g !== e.currentTarget.dataset.id)\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      axios.defaults.withCredentials = true;\n      let formData = new FormData();\n      formData.append(\"productName\", this.state.productName);\n      formData.append(\"price\", this.state.price);\n      formData.append(\"description\", this.state.description);\n\n      for (let i = 0; i < this.state.categories.length; i++) {\n        formData.append(\"categories\", this.state.categories[i]);\n      }\n\n      formData.append(\"stock\", this.state.stock);\n\n      for (let i = 0; i < this.state.categories.length; i++) {\n        formData.append(\"colours\", this.state.colours[i]);\n      }\n\n      if (this.state.selectedFiles) {\n        for (let i = 0; i < this.state.selectedFiles.length; i++) {\n          formData.append(\"productPhotos\", this.state.selectedFiles[i]);\n        }\n      }\n\n      axios.post(`${SERVER_HOST}/products`, formData, {\n        headers: {\n          authorization: localStorage.token\n        }\n      }).then(res => {\n        if (res.data) {\n          if (res.data.errorMessage) {\n            console.log(res.data.errorMessage);\n            Swal.fire({\n              title: \"Product not added\",\n              text: res.data.errorMessage,\n              icon: \"error\",\n              showConfirmButton: true,\n              confirmButtonColor: \"#123c69\"\n            });\n          } else {\n            console.log(\"Record added\");\n            Swal.fire({\n              title: \"Product added\",\n              text: \"The product has been added.\",\n              icon: \"success\",\n              showConfirmButton: false,\n              timer: 1500\n            });\n            this.setState({\n              redirectToHome: true\n            });\n          }\n        } else {\n          console.log(\"Product not added\");\n          Swal.fire({\n            title: \"Product not added\",\n            text: \"Make sure that data is valid and is not a duplicate.\",\n            icon: \"error\",\n            showConfirmButton: true,\n            confirmButtonColor: \"#123c69\"\n          });\n        }\n      });\n    };\n\n    this.state = {\n      productName: \"\",\n      price: \"\",\n      description: \"\",\n      categories: [],\n      selectedCategory: \"\",\n      stock: \"\",\n      colours: [],\n      selectedColours: \"\",\n      selectedFiles: null,\n      redirectToHome: false\n    };\n  }\n\n  validateProductName() {\n    return this.state.productName !== \"\";\n  }\n\n  validateDescription() {\n    return this.state.description !== \"\";\n  }\n\n  validatePrice() {\n    return this.state.price > 0;\n  }\n\n  validateCategories() {\n    return this.state.categories.length !== 0 && this.state.categories !== undefined;\n  }\n\n  validateStock() {\n    return this.state.stock >= 0;\n  }\n\n  validateColours() {\n    return this.state.colours.length !== 0 && this.state.colours !== undefined;\n  }\n\n  validatePhotos() {\n    return this.state.selectedFiles !== null && this.state.selectedFiles.length < 2;\n  }\n\n  validate() {\n    return {\n      productName: this.validateProductName(),\n      description: this.validateDescription(),\n      price: this.validatePrice(),\n      categories: this.validateCategories(),\n      stock: this.validateStock(),\n      colours: this.validateColours(),\n      photos: this.validatePhotos()\n    };\n  }\n\n  render() {\n    const formInputsState = this.validate();\n    const inputsAreAllValid = Object.keys(formInputsState).every(index => formInputsState[index]);\n    let productNameError = \"\";\n    let priceError = \"\";\n    let descriptionError = \"\";\n    let categoriesError = \"\";\n    let stockError = \"\";\n    let coloursError = \"\";\n    let photosError = \"\";\n\n    if (!this.validateProductName()) {\n      productNameError = /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-danger mt-2\",\n        children: \"Product name is required.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (!this.validateDescription()) {\n      descriptionError = /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-danger mt-2\",\n        children: \"Product description is required.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (!this.validatePrice()) {\n      priceError = /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-danger mt-2\",\n        children: \"Price must be a positive number.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (!this.validateCategories()) {\n      categoriesError = /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-danger mt-2\",\n        children: \"Choose at least 1 category.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (!this.validateStock()) {\n      stockError = /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-danger mt-2\",\n        children: \"Stock must be a positive number.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (!this.validateColours()) {\n      coloursError = /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-danger mt-2\",\n        children: \"Choose at least 1 colour.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (!this.validatePhotos()) {\n      photosError = /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-danger mt-2\",\n        children: \"Choose at least 2 photos.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container p-3\",\n      children: [this.state.redirectToHome ? /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/shop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 38\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card flex-column border-0 shadow rounded-3 overflow-hidden p-4 m-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \" text-center mt-3  \",\n          children: \"Add Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-container m-4\",\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mt-2\",\n              controlId: \"productName\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Product Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"productName\",\n                value: this.state.productName,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this), productNameError]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mt-2\",\n              controlId: \"price\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"price\",\n                value: this.state.price,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this), priceError]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"description\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"description\",\n                as: \"textarea\",\n                value: this.state.description,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this), descriptionError]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mt-2\",\n              controlId: \"categories\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Categories\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n                children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                  name: \"selectedCategory\",\n                  as: \"select\",\n                  onChange: this.handleChange,\n                  defaultValue: \"DEFAULT\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"DEFAULT\",\n                    disabled: true,\n                    children: \"Select category...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 21\n                  }, this), CATEGORIES.filter(g => !this.state.categories.includes(g)).map(g => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: g,\n                    children: g.toUpperCase()\n                  }, g, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-secondary\",\n                  onClick: this.addCategory,\n                  children: \"Add Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this), this.state.categories.map(g => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"badge badge-secondary p-1 mt-2 mr-2\",\n                children: [g.toUpperCase(), /*#__PURE__*/_jsxDEV(XLg, {\n                  \"data-id\": g,\n                  className: \"ml-1\",\n                  onClick: this.removeCategory\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 21\n                }, this)]\n              }, g, true, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 19\n              }, this)), categoriesError]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mt-2\",\n              controlId: \"stock\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Stock\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"stock\",\n                value: this.state.stock,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 17\n              }, this), stockError]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mt-2\",\n              controlId: \"colours\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Colours\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n                children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                  name: \"selectedColours\",\n                  as: \"select\",\n                  onChange: this.handleChange,\n                  defaultValue: \"DEFAULT\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"DEFAULT\",\n                    disabled: true,\n                    children: \"Select colour...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 21\n                  }, this), Object.keys(COLOURS).filter(g => !this.state.colours.includes(g)).map(g => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: g,\n                    children: g.toUpperCase()\n                  }, g, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-secondary\",\n                  onClick: this.addColour,\n                  children: \"Add Colour\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this), this.state.colours.map(g => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"badge badge-secondary p-1 mt-2 mr-2\",\n                children: [g.toUpperCase(), /*#__PURE__*/_jsxDEV(XLg, {\n                  \"data-id\": g,\n                  className: \"ml-1\",\n                  onClick: this.removeColour\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 21\n                }, this)]\n              }, g, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 19\n              }, this)), coloursError]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"photos\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Photos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"file\",\n                multiple: true,\n                onChange: this.handleFileChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 17\n              }, this), photosError]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-success mt-3 mr-2\",\n              onClick: this.handleSubmit,\n              disabled: !inputsAreAllValid,\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/shop\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger mt-3 ml-2\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default AddProduct;","map":{"version":3,"sources":["/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/components/ProductForms/AddProduct.jsx"],"names":["React","Link","Redirect","Form","Button","InputGroup","XLg","Swal","axios","SERVER_HOST","CATEGORIES","COLOURS","AddProduct","Component","constructor","props","handleChange","e","setState","target","name","value","handleFileChange","console","log","files","selectedFiles","addCategory","state","selectedCategory","categories","includes","removeCategory","filter","g","currentTarget","dataset","id","addColour","selectedColours","colours","removeColour","handleSubmit","preventDefault","defaults","withCredentials","formData","FormData","append","productName","price","description","i","length","stock","post","headers","authorization","localStorage","token","then","res","data","errorMessage","fire","title","text","icon","showConfirmButton","confirmButtonColor","timer","redirectToHome","validateProductName","validateDescription","validatePrice","validateCategories","undefined","validateStock","validateColours","validatePhotos","validate","photos","render","formInputsState","inputsAreAllValid","Object","keys","every","index","productNameError","priceError","descriptionError","categoriesError","stockError","coloursError","photosError","map","toUpperCase"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { Form, Button, InputGroup } from \"react-bootstrap\";\nimport { XLg } from \"react-bootstrap-icons\";\nimport Swal from \"sweetalert2\";\nimport axios from \"axios\";\nimport {\n  SERVER_HOST,\n  CATEGORIES,\n  COLOURS,\n} from \"../../config/global_constants.js\";\n\nclass AddProduct extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      productName: \"\",\n      price: \"\",\n      description: \"\",\n      categories: [],\n      selectedCategory: \"\",\n      stock: \"\",\n      colours: [],\n      selectedColours: \"\",\n      selectedFiles: null,\n      redirectToHome: false,\n    };\n  }\n\n  handleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleFileChange = (e) => {\n    console.log(e.target.files);\n    this.setState({ selectedFiles: e.target.files });\n  };\n\n  addCategory = (e) => {\n    if (\n      this.state.selectedCategory !== \"\" &&\n      !this.state.categories.includes(this.state.selectedCategory)\n    ) {\n      this.setState({\n        categories: [...this.state.categories, this.state.selectedCategory],\n      });\n    }\n  };\n\n  removeCategory = (e) => {\n    this.setState({\n      categories: this.state.categories.filter(\n        (g) => g !== e.currentTarget.dataset.id\n      ),\n    });\n  };\n\n  addColour = (e) => {\n    if (\n      this.state.selectedColours !== \"\" &&\n      !this.state.colours.includes(this.state.selectedColours)\n    ) {\n      this.setState({\n        colours: [...this.state.colours, this.state.selectedColours],\n      });\n    }\n  };\n\n  removeColour = (e) => {\n    this.setState({\n      colours: this.state.colours.filter(\n        (g) => g !== e.currentTarget.dataset.id\n      ),\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    axios.defaults.withCredentials = true;\n\n    let formData = new FormData();\n\n    formData.append(\"productName\", this.state.productName);\n    formData.append(\"price\", this.state.price);\n    formData.append(\"description\", this.state.description);\n    for (let i = 0; i < this.state.categories.length; i++) {\n      formData.append(\"categories\", this.state.categories[i]);\n    }\n    formData.append(\"stock\", this.state.stock);\n    for (let i = 0; i < this.state.categories.length; i++) {\n      formData.append(\"colours\", this.state.colours[i]);\n    }\n\n    if (this.state.selectedFiles) {\n      for (let i = 0; i < this.state.selectedFiles.length; i++) {\n        formData.append(\"productPhotos\", this.state.selectedFiles[i]);\n      }\n    }\n\n    axios\n      .post(`${SERVER_HOST}/products`, formData, {\n        headers: { authorization: localStorage.token },\n      })\n      .then((res) => {\n        if (res.data) {\n          if (res.data.errorMessage) {\n            console.log(res.data.errorMessage);\n            Swal.fire({\n              title: \"Product not added\",\n              text: res.data.errorMessage,\n              icon: \"error\",\n              showConfirmButton: true,\n              confirmButtonColor: \"#123c69\",\n            });\n          } else {\n            console.log(\"Record added\");\n            Swal.fire({\n              title: \"Product added\",\n              text: \"The product has been added.\",\n              icon: \"success\",\n              showConfirmButton: false,\n              timer: 1500,\n            });\n            this.setState({ redirectToHome: true });\n          }\n        } else {\n          console.log(\"Product not added\");\n          Swal.fire({\n            title: \"Product not added\",\n            text: \"Make sure that data is valid and is not a duplicate.\",\n            icon: \"error\",\n            showConfirmButton: true,\n            confirmButtonColor: \"#123c69\",\n          });\n        }\n      });\n  };\n\n  validateProductName() {\n    return this.state.productName !== \"\";\n  }\n\n  validateDescription() {\n    return this.state.description !== \"\";\n  }\n\n  validatePrice() {\n    return this.state.price > 0;\n  }\n\n  validateCategories() {\n    return (\n      this.state.categories.length !== 0 && this.state.categories !== undefined\n    );\n  }\n\n  validateStock() {\n    return this.state.stock >= 0;\n  }\n\n  validateColours() {\n    return this.state.colours.length !== 0 && this.state.colours !== undefined;\n  }\n\n  validatePhotos() {\n    return (\n      this.state.selectedFiles !== null && this.state.selectedFiles.length < 2\n    );\n  }\n\n  validate() {\n    return {\n      productName: this.validateProductName(),\n      description: this.validateDescription(),\n      price: this.validatePrice(),\n      categories: this.validateCategories(),\n      stock: this.validateStock(),\n      colours: this.validateColours(),\n      photos: this.validatePhotos(),\n    };\n  }\n\n  render() {\n    const formInputsState = this.validate();\n    const inputsAreAllValid = Object.keys(formInputsState).every(\n      (index) => formInputsState[index]\n    );\n\n    let productNameError = \"\";\n    let priceError = \"\";\n    let descriptionError = \"\";\n    let categoriesError = \"\";\n    let stockError = \"\";\n    let coloursError = \"\";\n    let photosError = \"\";\n\n    if (!this.validateProductName()) {\n      productNameError = (\n        <p className=\"text-danger mt-2\">Product name is required.</p>\n      );\n    }\n    if (!this.validateDescription()) {\n      descriptionError = (\n        <p className=\"text-danger mt-2\">Product description is required.</p>\n      );\n    }\n    if (!this.validatePrice()) {\n      priceError = (\n        <p className=\"text-danger mt-2\">Price must be a positive number.</p>\n      );\n    }\n    if (!this.validateCategories()) {\n      categoriesError = (\n        <p className=\"text-danger mt-2\">Choose at least 1 category.</p>\n      );\n    }\n    if (!this.validateStock()) {\n      stockError = (\n        <p className=\"text-danger mt-2\">Stock must be a positive number.</p>\n      );\n    }\n    if (!this.validateColours()) {\n      coloursError = (\n        <p className=\"text-danger mt-2\">Choose at least 1 colour.</p>\n      );\n    }\n    if (!this.validatePhotos()) {\n      photosError = (\n        <p className=\"text-danger mt-2\">Choose at least 2 photos.</p>\n      );\n    }\n\n    return (\n      <div className=\"container p-3\">\n        {this.state.redirectToHome ? <Redirect to=\"/shop\" /> : null}\n\n        <div className=\"card flex-column border-0 shadow rounded-3 overflow-hidden p-4 m-4\">\n          <h2 className=\" text-center mt-3  \">Add Product</h2>\n          <div className=\"form-container m-4\">\n            <Form>\n              <Form.Group className=\"mt-2\" controlId=\"productName\">\n                <Form.Label>Product Name</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  name=\"productName\"\n                  value={this.state.productName}\n                  onChange={this.handleChange}\n                />\n                {productNameError}\n              </Form.Group>\n              <Form.Group className=\"mt-2\" controlId=\"price\">\n                <Form.Label>Price</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  name=\"price\"\n                  value={this.state.price}\n                  onChange={this.handleChange}\n                />\n                {priceError}\n              </Form.Group>\n              <Form.Group controlId=\"description\">\n                <Form.Label>Description</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  name=\"description\"\n                  as=\"textarea\"\n                  value={this.state.description}\n                  onChange={this.handleChange}\n                />\n                {descriptionError}\n              </Form.Group>\n              <Form.Group className=\"mt-2\" controlId=\"categories\">\n                <Form.Label>Categories</Form.Label>\n                <InputGroup>\n                  <Form.Control\n                    name=\"selectedCategory\"\n                    as=\"select\"\n                    onChange={this.handleChange}\n                    defaultValue={\"DEFAULT\"}\n                  >\n                    <option value=\"DEFAULT\" disabled>\n                      Select category...\n                    </option>\n                    {CATEGORIES.filter(\n                      (g) => !this.state.categories.includes(g)\n                    ).map((g) => (\n                      <option key={g} value={g}>\n                        {g.toUpperCase()}\n                      </option>\n                    ))}\n                  </Form.Control>\n\n                  <Button\n                    variant=\"outline-secondary\"\n                    onClick={this.addCategory}\n                  >\n                    Add Category\n                  </Button>\n                </InputGroup>\n                {this.state.categories.map((g) => (\n                  <span className=\"badge badge-secondary p-1 mt-2 mr-2\" key={g}>\n                    {g.toUpperCase()}\n                    <XLg\n                      data-id={g}\n                      className=\"ml-1\"\n                      onClick={this.removeCategory}\n                    />\n                  </span>\n                ))}\n                {categoriesError}\n              </Form.Group>\n              <Form.Group className=\"mt-2\" controlId=\"stock\">\n                <Form.Label>Stock</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  name=\"stock\"\n                  value={this.state.stock}\n                  onChange={this.handleChange}\n                />\n                {stockError}\n              </Form.Group>\n              <Form.Group className=\"mt-2\" controlId=\"colours\">\n                <Form.Label>Colours</Form.Label>\n                <InputGroup>\n                  <Form.Control\n                    name=\"selectedColours\"\n                    as=\"select\"\n                    onChange={this.handleChange}\n                    defaultValue={\"DEFAULT\"}\n                  >\n                    <option value=\"DEFAULT\" disabled>\n                      Select colour...\n                    </option>\n                    {Object.keys(COLOURS)\n                      .filter((g) => !this.state.colours.includes(g))\n                      .map((g) => (\n                        <option key={g} value={g}>\n                          {g.toUpperCase()}\n                        </option>\n                      ))}\n                  </Form.Control>\n\n                  <Button variant=\"outline-secondary\" onClick={this.addColour}>\n                    Add Colour\n                  </Button>\n                </InputGroup>\n                {this.state.colours.map((g) => (\n                  <span className=\"badge badge-secondary p-1 mt-2 mr-2\" key={g}>\n                    {g.toUpperCase()}\n                    <XLg\n                      data-id={g}\n                      className=\"ml-1\"\n                      onClick={this.removeColour}\n                    />\n                  </span>\n                ))}\n                {coloursError}\n              </Form.Group>\n              <Form.Group controlId=\"photos\">\n                <Form.Label>Photos</Form.Label>\n                <Form.Control\n                  type=\"file\"\n                  multiple\n                  onChange={this.handleFileChange}\n                />\n                {photosError}\n              </Form.Group>\n\n              <br />\n\n              <button\n                className=\"btn btn-success mt-3 mr-2\"\n                onClick={this.handleSubmit}\n                disabled={!inputsAreAllValid}\n              >\n                Add\n              </button>\n              <Link to={\"/shop\"}>\n                <button className=\"btn btn-danger mt-3 ml-2\">Cancel</button>\n              </Link>\n            </Form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AddProduct;\n"]},"metadata":{},"sourceType":"module"}