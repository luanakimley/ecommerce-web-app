{"ast":null,"code":"var _jsxFileName = \"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/components/ProductForms/DeleteProduct.jsx\";\nimport axios from \"axios\";\nimport React from \"react\";\nimport Swal from \"sweetalert2\";\nimport { Redirect, useParams, withRouter } from \"react-router-dom\";\nimport { SERVER_HOST } from \"../../config/global_constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass DeleteProduct extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redirectToHome: false\n    };\n  }\n\n  componentDidMount() {\n    axios.defaults.withCredentials = true;\n    const MySwal = Swal.mixin({\n      customClass: {\n        confirmButton: \"btn btn-success mr-2\",\n        cancelButton: \"btn btn-danger ml-2\"\n      },\n      buttonsStyling: false\n    });\n    MySwal.fire({\n      title: \"Are you sure you want to delete this?\",\n      text: \"You won't be able to revert this!\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#5cb85c\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes, delete it!\"\n    }).then(result => {\n      if (result.isConfirmed) {\n        axios.delete(`${SERVER_HOST}/products/${this.props.match.params.id}`, {\n          headers: {\n            authorization: localStorage.token\n          }\n        }).then(res => {\n          if (res.data) {\n            if (res.data.errorMessage) {\n              console.log(res.data.errorMessage);\n              MySwal.fire({\n                title: \"Product not deleted!\",\n                text: res.data.errorMessage,\n                icon: \"error\",\n                showConfirmButton: false,\n                timer: 2000\n              });\n            } // success\n            else {\n              console.log(\"Product deleted\");\n              MySwal.fire({\n                title: \"Deleted!\",\n                text: \"The product has been deleted.\",\n                icon: \"success\",\n                showConfirmButton: false,\n                timer: 1500\n              });\n            }\n\n            this.setState({\n              redirectToHome: true\n            });\n          } else {\n            console.log(\"Product not deleted\");\n            this.setState({\n              redirectToHome: true\n            });\n          }\n        });\n      } else {\n        this.setState({\n          redirectToHome: true\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.state.redirectToHome ? /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/shop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 41\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(DeleteProduct);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/components/ProductForms/DeleteProduct.jsx"],"names":["axios","React","Swal","Redirect","useParams","withRouter","SERVER_HOST","DeleteProduct","Component","constructor","props","state","redirectToHome","componentDidMount","defaults","withCredentials","MySwal","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","delete","match","params","id","headers","authorization","localStorage","token","res","data","errorMessage","console","log","showConfirmButton","timer","setState","render"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport Swal from \"sweetalert2\";\nimport { Redirect, useParams, withRouter } from \"react-router-dom\";\nimport { SERVER_HOST } from \"../../config/global_constants\";\n\nclass DeleteProduct extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      redirectToHome: false,\n    };\n  }\n\n  componentDidMount() {\n    axios.defaults.withCredentials = true;\n\n    const MySwal = Swal.mixin({\n      customClass: {\n        confirmButton: \"btn btn-success mr-2\",\n        cancelButton: \"btn btn-danger ml-2\",\n      },\n      buttonsStyling: false,\n    });\n\n    MySwal.fire({\n      title: \"Are you sure you want to delete this?\",\n      text: \"You won't be able to revert this!\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#5cb85c\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes, delete it!\",\n    }).then((result) => {\n      if (result.isConfirmed) {\n        axios\n          .delete(`${SERVER_HOST}/products/${this.props.match.params.id}`, {\n            headers: { authorization: localStorage.token },\n          })\n          .then((res) => {\n            if (res.data) {\n              if (res.data.errorMessage) {\n                console.log(res.data.errorMessage);\n                MySwal.fire({\n                  title: \"Product not deleted!\",\n                  text: res.data.errorMessage,\n                  icon: \"error\",\n                  showConfirmButton: false,\n                  timer: 2000,\n                });\n              } // success\n              else {\n                console.log(\"Product deleted\");\n                MySwal.fire({\n                  title: \"Deleted!\",\n                  text: \"The product has been deleted.\",\n                  icon: \"success\",\n                  showConfirmButton: false,\n                  timer: 1500,\n                });\n              }\n              this.setState({ redirectToHome: true });\n            } else {\n              console.log(\"Product not deleted\");\n              this.setState({ redirectToHome: true });\n            }\n          });\n      } else {\n        this.setState({ redirectToHome: true });\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div>{this.state.redirectToHome ? <Redirect to=\"/shop\" /> : null}</div>\n    );\n  }\n}\n\nexport default withRouter(DeleteProduct);\n"]},"metadata":{},"sourceType":"module"}