{"ast":null,"code":"import _defineProperty from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{Form}from\"react-bootstrap\";import axios from\"axios\";import{Redirect,withRouter}from\"react-router-dom\";import{SERVER_HOST}from\"../../config/global_constants\";import Swal from\"sweetalert2\";import PhoneInput from\"react-phone-input-2\";import\"react-phone-input-2/lib/style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profile=/*#__PURE__*/function(_React$Component){_inherits(Profile,_React$Component);var _super=_createSuper(Profile);function Profile(props){var _this;_classCallCheck(this,Profile);_this=_super.call(this,props);_this.handleFileChange=function(e){_this.setState({selectedFile:e.target.files[0]});};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleSubmit=function(e){e.preventDefault();axios.defaults.withCredentials=true;var formData=new FormData();formData.append(\"name\",_this.state.name);formData.append(\"email\",_this.state.email);formData.append(\"phone\",_this.state.phone);formData.append(\"profilePhoto\",_this.state.selectedFile);axios.put(\"\".concat(SERVER_HOST,\"/users/\").concat(_this.props.match.params.id),formData,{headers:{authorization:localStorage.token,\"Content-type\":\"multipart/form-data\"}}).then(function(res){if(res.data){if(res.data.errorMessage){console.log(res.data.errorMessage);Swal.fire({title:\"Changes not saved\",text:res.data.errorMessage,icon:\"error\",confirmButtonColor:\"#123c69\",showConfirmButton:true});}else{console.log(\"Changes saved\");if(_this.state.selectedFile!==null){localStorage.profilePhoto=res.data.profilePhoto;}Swal.fire({title:\"Changes saved\",text:\"User details have been updated.\",icon:\"success\",showConfirmButton:false,timer:1500}).then(function(res){window.location.reload(false);});}}else{console.log(\"Changes not saved\");Swal.fire({title:\"Changes not saved\",text:\"Make sure that data is valid.\",icon:\"error\",confirmButtonColor:\"#123c69\",showConfirmButton:true});}});};_this.state={name:\"\",email:\"\",phone:\"\",selectedFile:null,profilePhoto:\"\"};return _this;}_createClass(Profile,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.defaults.withCredentials=true;axios.get(\"\".concat(SERVER_HOST,\"/users/\").concat(this.props.match.params.id),{headers:{authorization:localStorage.token}}).then(function(res){if(res.data){if(res.data.errorMessage){console.log(res.data.errorMessage);}else{_this2.setState({name:res.data.name,email:res.data.email,phone:res.data.phone,profilePhoto:res.data.profilePhoto});}}else{console.log(\"Product not found\");}});}},{key:\"validateName\",value:function validateName(){return this.state.name!==\"\";}},{key:\"validateEmail\",value:function validateEmail(){return /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(this.state.email);}},{key:\"validatePhone\",value:function validatePhone(){return this.state.phone.length===0||this.state.phone.length>=10;}},{key:\"validate\",value:function validate(){return{name:this.validateName(),email:this.validateEmail(),phone:this.validatePhone()};}},{key:\"render\",value:function render(){var _this3=this;var formInputsState=this.validate();var inputsAreAllValid=Object.keys(formInputsState).every(function(index){return formInputsState[index];});var nameError=\"\";var emailError=\"\";var phoneError=\"\";if(!this.validateName()){nameError=/*#__PURE__*/_jsx(\"p\",{className:\"text-danger mt-2\",children:\"User name is required.\"});}if(!this.validateEmail()){emailError=/*#__PURE__*/_jsx(\"p\",{className:\"text-danger mt-2\",children:\"Invalid email.\"});}if(!this.validatePhone()){phoneError=/*#__PURE__*/_jsx(\"p\",{className:\"text-danger mt-2\",children:\"Invalid phone number.\"});}return/*#__PURE__*/_jsxs(Form,{children:[this.state.redirectToHome?/*#__PURE__*/_jsx(Redirect,{to:\"/\"}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Profile Picture\"}),/*#__PURE__*/_jsx(\"br\",{}),localStorage.profilePhoto!==\"null\"?/*#__PURE__*/_jsx(\"img\",{src:\"data:;base64,\".concat(this.state.profilePhoto),alt:\"\",className:\"rounded-circle mt-2 mb-3\",style:{objectFit:\"cover\",width:\"200px\",height:\"200px\"}}):null,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:this.handleFileChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",className:\"form-control\",id:\"floatingInputUsername\",placeholder:\"Enter your name\",onChange:this.handleChange,value:this.state.name,required:true,autoFocus:true}),nameError]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",className:\"form-control\",id:\"floatingInputEmail\",value:this.state.email,placeholder:\"name@example.com\",onChange:this.handleChange}),emailError]}),/*#__PURE__*/_jsxs(\"div\",{className:\" mb-3\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Phone number \",/*#__PURE__*/_jsx(\"em\",{children:\"(optional)\"})]}),/*#__PURE__*/_jsx(PhoneInput,{name:\"phone\",country:\"ie\",placeholder:\"Enter phone number\",value:this.state.phone,onChange:function onChange(phone){return _this3.setState({phone:phone});},inputStyle:{fontFamily:\"'Poppins', sans-serif\",fontSize:\"16px\"}}),phoneError]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid mb-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary fw-bold mt-4\",onClick:this.handleSubmit,disabled:!inputsAreAllValid,children:\"Save Changes\"})})]});}}]);return Profile;}(React.Component);export default withRouter(Profile);","map":{"version":3,"sources":["/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/components/Account/Profile.jsx"],"names":["React","Form","axios","Redirect","withRouter","SERVER_HOST","Swal","PhoneInput","Profile","props","handleFileChange","e","setState","selectedFile","target","files","handleChange","name","value","handleSubmit","preventDefault","defaults","withCredentials","formData","FormData","append","state","email","phone","put","match","params","id","headers","authorization","localStorage","token","then","res","data","errorMessage","console","log","fire","title","text","icon","confirmButtonColor","showConfirmButton","profilePhoto","timer","window","location","reload","get","test","length","validateName","validateEmail","validatePhone","formInputsState","validate","inputsAreAllValid","Object","keys","every","index","nameError","emailError","phoneError","redirectToHome","objectFit","width","height","fontFamily","fontSize","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { Redirect, withRouter } from \"react-router-dom\";\nimport { SERVER_HOST } from \"../../config/global_constants\";\nimport Swal from \"sweetalert2\";\nimport PhoneInput from \"react-phone-input-2\";\nimport \"react-phone-input-2/lib/style.css\";\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      selectedFile: null,\n      profilePhoto: \"\",\n    };\n  }\n\n  handleFileChange = (e) => {\n    this.setState({ selectedFile: e.target.files[0] });\n  };\n\n  componentDidMount() {\n    axios.defaults.withCredentials = true;\n\n    axios\n      .get(`${SERVER_HOST}/users/${this.props.match.params.id}`, {\n        headers: { authorization: localStorage.token },\n      })\n      .then((res) => {\n        if (res.data) {\n          if (res.data.errorMessage) {\n            console.log(res.data.errorMessage);\n          } else {\n            this.setState({\n              name: res.data.name,\n              email: res.data.email,\n              phone: res.data.phone,\n              profilePhoto: res.data.profilePhoto,\n            });\n          }\n        } else {\n          console.log(`Product not found`);\n        }\n      });\n  }\n\n  validateName() {\n    return this.state.name !== \"\";\n  }\n\n  validateEmail() {\n    return /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(\n      this.state.email\n    );\n  }\n\n  validatePhone() {\n    return this.state.phone.length === 0 || this.state.phone.length >= 10;\n  }\n\n  validate() {\n    return {\n      name: this.validateName(),\n      email: this.validateEmail(),\n      phone: this.validatePhone(),\n    };\n  }\n\n  handleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    axios.defaults.withCredentials = true;\n\n    let formData = new FormData();\n    formData.append(\"name\", this.state.name);\n    formData.append(\"email\", this.state.email);\n    formData.append(\"phone\", this.state.phone);\n    formData.append(\"profilePhoto\", this.state.selectedFile);\n\n    axios\n      .put(`${SERVER_HOST}/users/${this.props.match.params.id}`, formData, {\n        headers: {\n          authorization: localStorage.token,\n          \"Content-type\": \"multipart/form-data\",\n        },\n      })\n      .then((res) => {\n        if (res.data) {\n          if (res.data.errorMessage) {\n            console.log(res.data.errorMessage);\n            Swal.fire({\n              title: \"Changes not saved\",\n              text: res.data.errorMessage,\n              icon: \"error\",\n              confirmButtonColor: \"#123c69\",\n              showConfirmButton: true,\n            });\n          } else {\n            console.log(\"Changes saved\");\n            if (this.state.selectedFile !== null) {\n              localStorage.profilePhoto = res.data.profilePhoto;\n            }\n\n            Swal.fire({\n              title: \"Changes saved\",\n              text: \"User details have been updated.\",\n              icon: \"success\",\n              showConfirmButton: false,\n              timer: 1500,\n            }).then((res) => {\n              window.location.reload(false);\n            });\n          }\n        } else {\n          console.log(\"Changes not saved\");\n          Swal.fire({\n            title: \"Changes not saved\",\n            text: \"Make sure that data is valid.\",\n            icon: \"error\",\n            confirmButtonColor: \"#123c69\",\n            showConfirmButton: true,\n          });\n        }\n      });\n  };\n\n  render() {\n    const formInputsState = this.validate();\n    const inputsAreAllValid = Object.keys(formInputsState).every(\n      (index) => formInputsState[index]\n    );\n\n    let nameError = \"\";\n    let emailError = \"\";\n    let phoneError = \"\";\n\n    if (!this.validateName()) {\n      nameError = <p className=\"text-danger mt-2\">User name is required.</p>;\n    }\n    if (!this.validateEmail()) {\n      emailError = <p className=\"text-danger mt-2\">Invalid email.</p>;\n    }\n    if (!this.validatePhone()) {\n      phoneError = <p className=\"text-danger mt-2\">Invalid phone number.</p>;\n    }\n\n    return (\n      <Form>\n        {this.state.redirectToHome ? <Redirect to=\"/\" /> : null}\n        <div className=\"form-floating mb-3\">\n          <label>Profile Picture</label>\n          <br />\n          {localStorage.profilePhoto !== \"null\" ? (\n            <img\n              src={`data:;base64,${this.state.profilePhoto}`}\n              alt=\"\"\n              className=\"rounded-circle mt-2 mb-3\"\n              style={{ objectFit: \"cover\", width: \"200px\", height: \"200px\" }}\n            />\n          ) : null}\n          <br />\n          <input type=\"file\" onChange={this.handleFileChange} />\n        </div>\n\n        <div className=\"form-floating mb-3\">\n          <label>Name</label>\n          <input\n            type=\"text\"\n            name=\"name\"\n            className=\"form-control\"\n            id=\"floatingInputUsername\"\n            placeholder=\"Enter your name\"\n            onChange={this.handleChange}\n            value={this.state.name}\n            required\n            autoFocus\n          />\n          {nameError}\n        </div>\n\n        <div className=\"form-floating mb-3\">\n          <label>Email address</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            className=\"form-control\"\n            id=\"floatingInputEmail\"\n            value={this.state.email}\n            placeholder=\"name@example.com\"\n            onChange={this.handleChange}\n          />\n          {emailError}\n        </div>\n\n        <div className=\" mb-3\">\n          <label>\n            Phone number <em>(optional)</em>\n          </label>\n          <PhoneInput\n            name=\"phone\"\n            country={\"ie\"}\n            placeholder=\"Enter phone number\"\n            value={this.state.phone}\n            onChange={(phone) => this.setState({ phone })}\n            inputStyle={{\n              fontFamily: \"'Poppins', sans-serif\",\n              fontSize: \"16px\",\n            }}\n          />\n          {phoneError}\n        </div>\n\n        <div className=\"d-grid mb-2\">\n          <button\n            className=\"btn btn-primary fw-bold mt-4\"\n            onClick={this.handleSubmit}\n            disabled={!inputsAreAllValid}\n          >\n            Save Changes\n          </button>\n        </div>\n      </Form>\n    );\n  }\n}\n\nexport default withRouter(Profile);\n"]},"metadata":{},"sourceType":"module"}