{"ast":null,"code":"var _jsxFileName = \"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/components/Purchases/OrderReturn.jsx\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { SERVER_HOST } from \"../../config/global_constants\";\nimport ShopBanner from \"../ShopBanner\";\nimport OrderDetailsRow from \"./OrderDetailsRow\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass OrderReturn extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSelected = e => {\n      let selected = this.state.selected;\n      let index;\n\n      if (e.target.checked) {\n        selected.push(e.target.value);\n      } else {\n        index = selected.indexOf(e.target.value);\n        selected.splice(index, 1);\n      }\n\n      this.setState({\n        selected: selected\n      });\n    };\n\n    this.handleSubmit = e => {\n      axios.defaults.withCredentials = true;\n      let today = new Date();\n      let returnObj = {\n        orderId: this.props.match.params.id,\n        products: this.state.selected,\n        userId: localStorage._id,\n        date: today\n      };\n      axios.post(`${SERVER_HOST}/return`, returnObj);\n      Swal.fire({\n        title: \"Product return confirmed\",\n        text: \"Your return is being processed.\",\n        icon: \"success\",\n        showConfirmButton: false,\n        timer: 1500\n      });\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.state = {\n      products: [],\n      user: \"\",\n      photos: [],\n      quantity: [],\n      selected: [],\n      _id: \"\",\n      redirect: false\n    };\n  }\n\n  countRefundTotal() {\n    this.state.selected.map(product => {\n      let productObj = JSON.parse(product);\n      console.log(product); // axios\n      //   .get(`${SERVER_HOST}/products/${product.productId}`)\n      //   .then((res) => console.log(res.data));\n    });\n  }\n\n  componentDidMount() {\n    axios.defaults.withCredentials = true;\n    axios.get(`${SERVER_HOST}/orders/${this.props.match.params.id}`, {\n      headers: {\n        authorization: localStorage.token\n      }\n    }).then(res => {\n      this.setState({\n        _id: res.data._id\n      });\n      let products = [];\n      res.data.products.map((product, index) => {\n        products[index] = product;\n        this.setState({\n          products: products\n        });\n      });\n\n      if (res.data.userId !== \"undefined\") {\n        axios.get(`${SERVER_HOST}/users/${res.data.userId}`, {\n          headers: {\n            authorization: localStorage.token\n          }\n        }).then(res => {\n          this.setState({\n            user: res.data.email\n          });\n        });\n      } else {\n        this.setState({\n          user: \"guest\"\n        });\n      }\n    });\n  }\n\n  render() {\n    this.countRefundTotal();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-column align-items-center\",\n      children: [this.state.redirect ? /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/shop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 32\n      }, this) : null, /*#__PURE__*/_jsxDEV(ShopBanner, {\n        title: \"Order Return\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hgvcfwqx container p-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-center mb-4\",\n          children: \"Select items to return\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), this.state.products.map(product => product.status !== \"Returned\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: this.handleSelected,\n            type: \"checkbox\",\n            value: JSON.stringify({\n              productId: product.productId,\n              quantity: product.quantity,\n              _id: product._id\n            }),\n            className: \"mr-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(OrderDetailsRow, {\n            product: product\n          }, product._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }, this) : null)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-light p-3 order-details-summary mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-center mb-4\",\n          children: \"Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Refund method: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"float-right\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Paypal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Shipping cost: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"float-right\",\n            children: \"FREE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-item mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Refund total: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"float-right\",\n            children: [\"\\u20AC\", this.props.location.state.order.amount + this.props.location.state.order.shippingCost]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-row m-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.handleSubmit,\n          className: \"btn btn-success mr-3 mb-4 w-80\",\n          disabled: this.state.selected.length === 0,\n          children: \"Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: {\n            pathname: `/orders/${this.props.match.params.id}`,\n            state: {\n              order: this.props.location.state.order\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger ml-3 mb-4 w-80\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default OrderReturn;","map":{"version":3,"sources":["/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/components/Purchases/OrderReturn.jsx"],"names":["React","axios","SERVER_HOST","ShopBanner","OrderDetailsRow","Link","Redirect","Swal","OrderReturn","Component","constructor","props","handleSelected","e","selected","state","index","target","checked","push","value","indexOf","splice","setState","handleSubmit","defaults","withCredentials","today","Date","returnObj","orderId","match","params","id","products","userId","localStorage","_id","date","post","fire","title","text","icon","showConfirmButton","timer","redirect","user","photos","quantity","countRefundTotal","map","product","productObj","JSON","parse","console","log","componentDidMount","get","headers","authorization","token","then","res","data","email","render","status","stringify","productId","location","order","amount","shippingCost","length","pathname"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { SERVER_HOST } from \"../../config/global_constants\";\nimport ShopBanner from \"../ShopBanner\";\nimport OrderDetailsRow from \"./OrderDetailsRow\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\n\nclass OrderReturn extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: [],\n      user: \"\",\n      photos: [],\n      quantity: [],\n      selected: [],\n      _id: \"\",\n      redirect: false,\n    };\n  }\n\n  handleSelected = (e) => {\n    let selected = this.state.selected;\n    let index;\n    if (e.target.checked) {\n      selected.push(e.target.value);\n    } else {\n      index = selected.indexOf(e.target.value);\n      selected.splice(index, 1);\n    }\n    this.setState({ selected: selected });\n  };\n\n  countRefundTotal() {\n    this.state.selected.map((product) => {\n      let productObj = JSON.parse(product)\n      console.log(product);\n      // axios\n      //   .get(`${SERVER_HOST}/products/${product.productId}`)\n      //   .then((res) => console.log(res.data));\n    });\n  }\n\n  handleSubmit = (e) => {\n    axios.defaults.withCredentials = true;\n    let today = new Date();\n\n    let returnObj = {\n      orderId: this.props.match.params.id,\n      products: this.state.selected,\n      userId: localStorage._id,\n      date: today,\n    };\n\n    axios.post(`${SERVER_HOST}/return`, returnObj);\n    Swal.fire({\n      title: \"Product return confirmed\",\n      text: \"Your return is being processed.\",\n      icon: \"success\",\n      showConfirmButton: false,\n      timer: 1500,\n    });\n    this.setState({ redirect: true });\n  };\n\n  componentDidMount() {\n    axios.defaults.withCredentials = true;\n\n    axios\n      .get(`${SERVER_HOST}/orders/${this.props.match.params.id}`, {\n        headers: { authorization: localStorage.token },\n      })\n      .then((res) => {\n        this.setState({ _id: res.data._id });\n        let products = [];\n        res.data.products.map((product, index) => {\n          products[index] = product;\n          this.setState({ products: products });\n        });\n\n        if (res.data.userId !== \"undefined\") {\n          axios\n            .get(`${SERVER_HOST}/users/${res.data.userId}`, {\n              headers: { authorization: localStorage.token },\n            })\n            .then((res) => {\n              this.setState({ user: res.data.email });\n            });\n        } else {\n          this.setState({ user: \"guest\" });\n        }\n      });\n  }\n\n  render() {\n    this.countRefundTotal();\n    return (\n      <div className=\"d-flex flex-column align-items-center\">\n        {this.state.redirect ? <Redirect to=\"/shop\" /> : null}\n        <ShopBanner title=\"Order Return\" />\n        <div className=\"hgvcfwqx container p-3\">\n          <h4 className=\"text-center mb-4\">Select items to return</h4>\n          {this.state.products.map((product) =>\n            product.status !== \"Returned\" ? (\n              <div className=\"d-flex align-items-center\">\n                <input\n                  onChange={this.handleSelected}\n                  type=\"checkbox\"\n                  value={JSON.stringify({\n                    productId: product.productId,\n                    quantity: product.quantity,\n                    _id: product._id,\n                  })}\n                  className=\"mr-4\"\n                />\n                <OrderDetailsRow key={product._id} product={product} />\n              </div>\n            ) : null\n          )}\n        </div>\n\n        <div className=\"bg-light p-3 order-details-summary mb-4\">\n          <h4 className=\"text-center mb-4\">Summary</h4>\n          <div className=\"summary-item\">\n            <span>Refund method: </span>\n            <span className=\"float-right\">\n              <strong>Paypal</strong>\n            </span>\n          </div>\n          <div className=\"summary-item\">\n            <span>Shipping cost: </span>\n            <span className=\"float-right\">FREE</span>\n          </div>\n          <div className=\"summary-item mt-3\">\n            <span>Refund total: </span>\n            <span className=\"float-right\">\n              €\n              {this.props.location.state.order.amount +\n                this.props.location.state.order.shippingCost}\n            </span>\n          </div>\n        </div>\n        <div className=\"d-flex flex-row m-3\">\n          <button\n            onClick={this.handleSubmit}\n            className=\"btn btn-success mr-3 mb-4 w-80\"\n            disabled={this.state.selected.length === 0}\n          >\n            Confirm\n          </button>\n          <Link\n            to={{\n              pathname: `/orders/${this.props.match.params.id}`,\n              state: {\n                order: this.props.location.state.order,\n              },\n            }}\n          >\n            <button className=\"btn btn-danger ml-3 mb-4 w-80\">Cancel</button>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default OrderReturn;\n"]},"metadata":{},"sourceType":"module"}