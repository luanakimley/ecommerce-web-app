{"ast":null,"code":"import _classCallCheck from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{SERVER_HOST}from\"../../config/global_constants\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ReturnDetailsRow=/*#__PURE__*/function(_React$Component){_inherits(ReturnDetailsRow,_React$Component);var _super=_createSuper(ReturnDetailsRow);function ReturnDetailsRow(props){var _this;_classCallCheck(this,ReturnDetailsRow);_this=_super.call(this,props);_this.state={productName:\"\",price:0,photos:[],quantity:0};return _this;}_createClass(ReturnDetailsRow,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"\".concat(SERVER_HOST,\"/orders/product/\").concat(this.props.productSchemaId)).then(function(res){var returnedProduct=res.data[0].products.filter(function(item){return item._id===_this2.props.productSchemaId;})[0];_this2.setState({quantity:returnedProduct.quantity});axios.get(\"\".concat(SERVER_HOST,\"/products/\").concat(returnedProduct.productId)).then(function(res){_this2.setState({productName:res.data.productName,price:res.data.price,photos:res.data.photos});res.data.photos.map(function(photo){return axios.get(\"\".concat(SERVER_HOST,\"/products/photo/\").concat(photo.filename)).then(function(res){if(res.data){if(res.data.errorMessage){console.log(res.data.errorMessage);}else{document.getElementById(photo._id).src=\"data:;base64,\".concat(res.data.image);}}else{console.log(\"Record not found\");}});});});});}},{key:\"render\",value:function render(){var totalPrice=this.state.price*this.state.quantity;return/*#__PURE__*/_jsx(\"div\",{className:\"ml-2 mt-0 mb-2 d-flex align-items-center justify-contents-center p-2 order-details-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[this.state.photos.map(function(photo,index){return index===0?/*#__PURE__*/_jsx(\"img\",{className:\"rounded \",id:photo._id,alt:\"Product\",width:\"200\"},photo._id):null;}),/*#__PURE__*/_jsx(\"div\",{className:\" d-flex align-items-center justify-content-center w-80\",children:/*#__PURE__*/_jsx(\"div\",{className:\"info details-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5 ml-4\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h6\",{children:this.state.productName})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-2 w-30 quantity-details\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Quantity:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",this.state.quantity]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 quantity-details\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20AC\",(Math.round(totalPrice*100)/100).toFixed(2)]})})]})})})]})});}}]);return ReturnDetailsRow;}(React.Component);export default ReturnDetailsRow;","map":{"version":3,"sources":["/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/components/Purchases/ReturnDetailsRow.jsx"],"names":["React","SERVER_HOST","axios","ReturnDetailsRow","props","state","productName","price","photos","quantity","get","productSchemaId","then","res","returnedProduct","data","products","filter","item","_id","setState","productId","map","photo","filename","errorMessage","console","log","document","getElementById","src","image","totalPrice","index","Math","round","toFixed","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { SERVER_HOST } from \"../../config/global_constants\";\nimport axios from \"axios\";\n\nclass ReturnDetailsRow extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      productName: \"\",\n      price: 0,\n      photos: [],\n      quantity: 0,\n    };\n  }\n  componentDidMount() {\n    axios\n      .get(`${SERVER_HOST}/orders/product/${this.props.productSchemaId}`)\n      .then((res) => {\n        let returnedProduct = res.data[0].products.filter(\n          (item) => item._id === this.props.productSchemaId\n        )[0];\n\n        this.setState({\n          quantity: returnedProduct.quantity,\n        });\n\n        axios\n          .get(`${SERVER_HOST}/products/${returnedProduct.productId}`)\n          .then((res) => {\n            this.setState({\n              productName: res.data.productName,\n              price: res.data.price,\n              photos: res.data.photos,\n            });\n\n            res.data.photos.map((photo) => {\n              return axios\n                .get(`${SERVER_HOST}/products/photo/${photo.filename}`)\n                .then((res) => {\n                  if (res.data) {\n                    if (res.data.errorMessage) {\n                      console.log(res.data.errorMessage);\n                    } else {\n                      document.getElementById(\n                        photo._id\n                      ).src = `data:;base64,${res.data.image}`;\n                    }\n                  } else {\n                    console.log(\"Record not found\");\n                  }\n                });\n            });\n          });\n      });\n  }\n\n  render() {\n    let totalPrice = this.state.price * this.state.quantity;\n    return (\n      <div className=\"ml-2 mt-0 mb-2 d-flex align-items-center justify-contents-center p-2 order-details-row\">\n        <div className=\"row\">\n          {this.state.photos.map((photo, index) =>\n            index === 0 ? (\n              <img\n                className=\"rounded \"\n                key={photo._id}\n                id={photo._id}\n                alt=\"Product\"\n                width=\"200\"\n              />\n            ) : null\n          )}\n\n          <div className=\" d-flex align-items-center justify-content-center w-80\">\n            <div className=\"info details-row\">\n              <div className=\"row \">\n                <div className=\"col-md-5 ml-4\">\n                  <div>\n                    <h6>{this.state.productName}</h6>\n                  </div>\n                </div>\n                <div className=\"ml-2 w-30 quantity-details\">\n                  <label>Quantity:</label>\n\n                  <span> {this.state.quantity}</span>\n                </div>\n                <div className=\"ml-5 quantity-details\">\n                  <span>\n                    â‚¬{(Math.round(totalPrice * 100) / 100).toFixed(2)}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ReturnDetailsRow;\n"]},"metadata":{},"sourceType":"module"}