{"ast":null,"code":"import _classCallCheck from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{Table}from\"react-bootstrap\";import{EmojiFrown}from\"react-bootstrap-icons\";import UserRow from\"./UserRow\";import{SERVER_HOST}from\"../../config/global_constants\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AllUsers=/*#__PURE__*/function(_React$Component){_inherits(AllUsers,_React$Component);var _super=_createSuper(AllUsers);function AllUsers(props){var _this;_classCallCheck(this,AllUsers);_this=_super.call(this,props);_this.state={users:[]};return _this;}_createClass(AllUsers,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.defaults.withCredentials=true;axios.get(\"\".concat(SERVER_HOST,\"/users\"),{headers:{authorization:localStorage.token}}).then(function(res){if(res.data){if(res.data.errorMessage){console.log(res.data.errorMessage);}else{console.log(\"Users record read\");_this2.setState({users:res.data});}}else{console.log(\"Users record not found\");}});}},{key:\"render\",value:function render(){var ADMIN_EMAIL=\"admin@milkysky.com\";return/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.users!==undefined?this.state.users.map(function(user,i){return user.email!==ADMIN_EMAIL?/*#__PURE__*/_jsx(UserRow,{user:user,index:i},user._id):null;}):/*#__PURE__*/_jsxs(\"div\",{className:\"container text-center\",children:[/*#__PURE__*/_jsx(EmojiFrown,{className:\"mt-2\",size:\"50\",color:\"black\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-3 \",children:\"No users found\"})]})})]});}}]);return AllUsers;}(React.Component);export default AllUsers;","map":{"version":3,"sources":["/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/components/AdminDashboard/AllUsers.jsx"],"names":["React","Table","EmojiFrown","UserRow","SERVER_HOST","axios","AllUsers","props","state","users","defaults","withCredentials","get","headers","authorization","localStorage","token","then","res","data","errorMessage","console","log","setState","ADMIN_EMAIL","undefined","map","user","i","email","_id","Component"],"mappings":"ojBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,KAAsB,iBAAtB,CACA,OAASC,UAAT,KAA2B,uBAA3B,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAASC,WAAT,KAA4B,+BAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,2FAEMC,CAAAA,Q,gHACJ,kBAAYC,KAAZ,CAAmB,0CACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,KAAK,CAAE,EADI,CAAb,CAFiB,aAKlB,C,sDACD,4BAAoB,iBAClBJ,KAAK,CAACK,QAAN,CAAeC,eAAf,CAAiC,IAAjC,CAEAN,KAAK,CACFO,GADH,WACUR,WADV,WAC+B,CAC3BS,OAAO,CAAE,CAAEC,aAAa,CAAEC,YAAY,CAACC,KAA9B,CADkB,CAD/B,EAIGC,IAJH,CAIQ,SAACC,GAAD,CAAS,CACb,GAAIA,GAAG,CAACC,IAAR,CAAc,CACZ,GAAID,GAAG,CAACC,IAAJ,CAASC,YAAb,CAA2B,CACzBC,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACC,IAAJ,CAASC,YAArB,EACD,CAFD,IAEO,CACLC,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACA,MAAI,CAACC,QAAL,CAAc,CAAEd,KAAK,CAAES,GAAG,CAACC,IAAb,CAAd,EACD,CACF,CAPD,IAOO,CACLE,OAAO,CAACC,GAAR,CAAY,wBAAZ,EACD,CACF,CAfH,EAgBD,C,sBACD,iBAAS,CACP,GAAME,CAAAA,WAAW,CAAG,oBAApB,CACA,mBACE,MAAC,KAAD,EAAO,OAAO,KAAd,CAAe,QAAQ,KAAvB,CAAwB,KAAK,KAA7B,CAA8B,UAAU,KAAxC,wBACE,oCACE,mCACE,yBADF,cAEE,4BAFF,cAGE,6BAHF,cAIE,6BAJF,cAKE,aALF,GADF,EADF,cAUE,uBACG,KAAKhB,KAAL,CAAWC,KAAX,GAAqBgB,SAArB,CACC,KAAKjB,KAAL,CAAWC,KAAX,CAAiBiB,GAAjB,CAAqB,SAACC,IAAD,CAAOC,CAAP,QACnBD,CAAAA,IAAI,CAACE,KAAL,GAAeL,WAAf,cACE,KAAC,OAAD,EAAwB,IAAI,CAAEG,IAA9B,CAAoC,KAAK,CAAEC,CAA3C,EAAcD,IAAI,CAACG,GAAnB,CADF,CAEI,IAHe,EAArB,CADD,cAOC,aAAK,SAAS,CAAC,uBAAf,wBACE,KAAC,UAAD,EAAY,SAAS,CAAC,MAAtB,CAA6B,IAAI,CAAC,IAAlC,CAAuC,KAAK,CAAC,OAA7C,EADF,cAEE,WAAI,SAAS,CAAC,OAAd,4BAFF,GARJ,EAVF,GADF,CA2BD,C,sBAxDoB9B,KAAK,CAAC+B,S,EA2D7B,cAAezB,CAAAA,QAAf","sourcesContent":["import React from \"react\";\nimport { Table } from \"react-bootstrap\";\nimport { EmojiFrown } from \"react-bootstrap-icons\";\nimport UserRow from \"./UserRow\";\nimport { SERVER_HOST } from \"../../config/global_constants\";\nimport axios from \"axios\";\n\nclass AllUsers extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n    };\n  }\n  componentDidMount() {\n    axios.defaults.withCredentials = true;\n\n    axios\n      .get(`${SERVER_HOST}/users`, {\n        headers: { authorization: localStorage.token },\n      })\n      .then((res) => {\n        if (res.data) {\n          if (res.data.errorMessage) {\n            console.log(res.data.errorMessage);\n          } else {\n            console.log(\"Users record read\");\n            this.setState({ users: res.data });\n          }\n        } else {\n          console.log(\"Users record not found\");\n        }\n      });\n  }\n  render() {\n    const ADMIN_EMAIL = \"admin@milkysky.com\";\n    return (\n      <Table striped bordered hover responsive>\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Name</th>\n            <th>Email</th>\n            <th>Phone</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.state.users !== undefined ? (\n            this.state.users.map((user, i) =>\n              user.email !== ADMIN_EMAIL ? (\n                <UserRow key={user._id} user={user} index={i} />\n              ) : null\n            )\n          ) : (\n            <div className=\"container text-center\">\n              <EmojiFrown className=\"mt-2\" size=\"50\" color=\"black\" />\n              <h3 className=\"mt-3 \">No users found</h3>\n            </div>\n          )}\n        </tbody>\n      </Table>\n    );\n  }\n}\n\nexport default AllUsers;\n"]},"metadata":{},"sourceType":"module"}