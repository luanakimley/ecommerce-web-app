{"ast":null,"code":"var _jsxFileName = \"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/components/Header/MetaData.jsx\";\nimport React from \"react\";\nimport { PersonCircle, Cart3 } from \"react-bootstrap-icons\";\nimport { Link } from \"react-router-dom\";\nimport { SERVER_HOST, ACCESS_LEVEL_GUEST, ACCESS_LEVEL_NORMAL_USER } from \"../../config/global_constants\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MetaData extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      size: 0\n    };\n  }\n\n  componentDidMount() {\n    if (localStorage.accessLevel > parseInt(ACCESS_LEVEL_GUEST)) {\n      axios.get(`${SERVER_HOST}/cart/${localStorage._id}`).then(res => {\n        if (res.data) {\n          if (res.data.errorMessage) {\n            console.log(res.data.errorMessage);\n          } else {\n            this.setState({\n              size: res.data.map(a => a.quantity).reduce((a, b) => a + b, 0)\n            });\n          }\n        }\n      });\n    } else {\n      if (localStorage.cart !== \"null\") {\n        const curCart = JSON.parse(localStorage.cart);\n        let size = curCart.map(a => parseInt(a.quantity)).reduce((a, b) => a + b, 0);\n        this.setState({\n          size: size\n        });\n      }\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return this.state !== nextState;\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (localStorage.accessLevel > parseInt(ACCESS_LEVEL_GUEST)) {\n      axios.get(`${SERVER_HOST}/cart/${localStorage._id}`).then(res => {\n        if (res.data) {\n          if (res.data.errorMessage) {\n            console.log(res.data.errorMessage);\n          } else {\n            this.setState({\n              size: res.data.map(a => a.quantity).reduce((a, b) => a + b, 0)\n            });\n          }\n        }\n\n        if (this.state.size !== prevState.size) {\n          this.setState({\n            size: this.state.size\n          });\n        }\n      });\n    } else {\n      const curCart = JSON.parse(localStorage.cart);\n      let size = curCart.map(a => a.quantity).reduce((a, b) => a + b, 0);\n\n      if (this.state.size !== size) {\n        this.setState({\n          size: size\n        });\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header-meta d-flex clearfix justify-content-end\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-login-info\",\n        children: parseInt(localStorage.accessLevel) === ACCESS_LEVEL_GUEST ? /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: [/*#__PURE__*/_jsxDEV(PersonCircle, {\n              size: 25,\n              className: \"icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"SIGN IN\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this) : parseInt(localStorage.accessLevel) === ACCESS_LEVEL_NORMAL_USER ? /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/account/\" + localStorage._id,\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: [localStorage.profilePhoto !== \"null\" ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: `data:;base64,${localStorage.profilePhoto}`,\n              alt: \"\",\n              className: \"rounded-circle\",\n              style: {\n                objectFit: \"cover\",\n                width: \"22px\",\n                height: \"22px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(PersonCircle, {\n              size: 25,\n              className: \"icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-capitalize\",\n              children: localStorage.name.split(\" \")[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admindashboard\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: [localStorage.profilePhoto !== \"null\" ? /*#__PURE__*/_jsxDEV(\"img\", {\n              id: \"profilePhoto\",\n              src: `data:;base64,${localStorage.profilePhoto}`,\n              alt: \"\",\n              width: \"25px\",\n              className: \"rounded-circle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(PersonCircle, {\n              size: 25,\n              className: \"icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-capitalize\",\n              children: localStorage.name.split(\" \")[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-area\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/shoppingcart\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: [/*#__PURE__*/_jsxDEV(Cart3, {\n              size: 25,\n              className: \"icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"mb-3\",\n              children: this.state.size\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default MetaData;","map":{"version":3,"sources":["/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/components/Header/MetaData.jsx"],"names":["React","PersonCircle","Cart3","Link","SERVER_HOST","ACCESS_LEVEL_GUEST","ACCESS_LEVEL_NORMAL_USER","axios","MetaData","Component","constructor","props","state","size","componentDidMount","localStorage","accessLevel","parseInt","get","_id","then","res","data","errorMessage","console","log","setState","map","a","quantity","reduce","b","cart","curCart","JSON","parse","shouldComponentUpdate","nextProps","nextState","componentDidUpdate","prevProps","prevState","render","profilePhoto","objectFit","width","height","name","split"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { PersonCircle, Cart3 } from \"react-bootstrap-icons\";\nimport { Link } from \"react-router-dom\";\nimport { SERVER_HOST, ACCESS_LEVEL_GUEST, ACCESS_LEVEL_NORMAL_USER } from \"../../config/global_constants\";\nimport axios from \"axios\";\n\nclass MetaData extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      size: 0,\n    };\n  }\n  componentDidMount() {\n    if (localStorage.accessLevel > parseInt(ACCESS_LEVEL_GUEST)) {\n      axios.get(`${SERVER_HOST}/cart/${localStorage._id}`).then((res) => {\n        if (res.data) {\n          if (res.data.errorMessage) {\n            console.log(res.data.errorMessage);\n          } else {\n            this.setState({\n              size: res.data.map((a) => a.quantity).reduce((a, b) => a + b, 0),\n            });\n          }\n        }\n      });\n    } else {\n      if (localStorage.cart !== \"null\") {\n        const curCart = JSON.parse(localStorage.cart);\n        let size = curCart\n          .map((a) => parseInt(a.quantity))\n          .reduce((a, b) => a + b, 0);\n        this.setState({\n          size: size,\n        });\n      }\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return this.state !== nextState;\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (localStorage.accessLevel > parseInt(ACCESS_LEVEL_GUEST)) {\n      axios.get(`${SERVER_HOST}/cart/${localStorage._id}`).then((res) => {\n        if (res.data) {\n          if (res.data.errorMessage) {\n            console.log(res.data.errorMessage);\n          } else {\n            this.setState({\n              size: res.data.map((a) => a.quantity).reduce((a, b) => a + b, 0),\n            });\n          }\n        }\n        if (this.state.size !== prevState.size) {\n          this.setState({ size: this.state.size });\n        }\n      });\n    } else {\n      const curCart = JSON.parse(localStorage.cart);\n      let size = curCart.map((a) => a.quantity).reduce((a, b) => a + b, 0);\n      if (this.state.size !== size) {\n        this.setState({ size: size });\n      }\n    }\n  }\n  render() {\n    return (\n      <div className=\"header-meta d-flex clearfix justify-content-end\">\n        <div className=\"user-login-info\">\n          {parseInt(localStorage.accessLevel) === ACCESS_LEVEL_GUEST ? (\n            <Link to=\"/login\">\n              <a>\n                <PersonCircle size={25} className=\"icon\" />\n                <p>SIGN IN</p>\n              </a>\n            </Link>\n          ) : parseInt(localStorage.accessLevel) === ACCESS_LEVEL_NORMAL_USER ? (\n            <Link to={\"/account/\" + localStorage._id}>\n              <a>\n                {localStorage.profilePhoto !== \"null\" ? (\n                  <img\n                    src={`data:;base64,${localStorage.profilePhoto}`}\n                    alt=\"\"\n                    className=\"rounded-circle\"\n                    style={{\n                      objectFit: \"cover\",\n                      width: \"22px\",\n                      height: \"22px\",\n                    }}\n                  />\n                ) : (\n                  <PersonCircle size={25} className=\"icon\" />\n                )}\n                <p className=\"text-capitalize\">\n                  {localStorage.name.split(\" \")[0]}\n                </p>\n              </a>\n            </Link>\n          ) : (\n            <Link to={\"/admindashboard\"}>\n              <a>\n                {localStorage.profilePhoto !== \"null\" ? (\n                  <img\n                    id=\"profilePhoto\"\n                    src={`data:;base64,${localStorage.profilePhoto}`}\n                    alt=\"\"\n                    width=\"25px\"\n                    className=\"rounded-circle\"\n                  />\n                ) : (\n                  <PersonCircle size={25} className=\"icon\" />\n                )}\n\n                <p className=\"text-capitalize\">\n                  {localStorage.name.split(\" \")[0]}\n                </p>\n              </a>\n            </Link>\n          )}\n        </div>\n        <div className=\"cart-area\">\n          <Link to=\"/shoppingcart\">\n            <a>\n              <Cart3 size={25} className=\"icon\" />\n              <h6 className=\"mb-3\">{this.state.size}</h6>\n            </a>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MetaData;\n"]},"metadata":{},"sourceType":"module"}