{"ast":null,"code":"import _classCallCheck from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{SERVER_HOST}from\"../../config/global_constants\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OrderDetailsRow=/*#__PURE__*/function(_React$Component){_inherits(OrderDetailsRow,_React$Component);var _super=_createSuper(OrderDetailsRow);function OrderDetailsRow(props){var _this;_classCallCheck(this,OrderDetailsRow);_this=_super.call(this,props);_this.state={productName:\"\",price:0,photos:[]};return _this;}_createClass(OrderDetailsRow,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"\".concat(SERVER_HOST,\"/products/\").concat(this.props.product.productId)).then(function(res){_this2.setState({productName:res.data.productName,price:res.data.price,photos:res.data.photos});res.data.photos.map(function(photo){return axios.get(\"\".concat(SERVER_HOST,\"/products/photo/\").concat(photo.filename)).then(function(res){if(res.data){if(res.data.errorMessage){console.log(res.data.errorMessage);}else{document.getElementById(photo._id).src=\"data:;base64,\".concat(res.data.image);}}else{console.log(\"Record not found\");}});});});}},{key:\"render\",value:function render(){var totalPrice=this.state.price*this.props.product.quantity;return/*#__PURE__*/_jsx(\"div\",{className:\"ml-2 mt-0 mb-2 d-flex align-items-center justify-contents-center p-2 order-details-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[this.state.photos.map(function(photo,index){return index===0?/*#__PURE__*/_jsx(\"img\",{className:\"rounded \",id:photo._id,alt:\"Product\",width:\"200\"},photo._id):null;}),/*#__PURE__*/_jsx(\"div\",{className:\" d-flex align-items-center justify-content-center w-80\",children:/*#__PURE__*/_jsx(\"div\",{className:\"info details-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5 ml-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{children:this.state.productName}),/*#__PURE__*/_jsx(\"p\",{children:this.props.product.status})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-2 w-30 quantity-details\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Quantity:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",this.props.product.quantity]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 quantity-details\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20AC\",(Math.round(totalPrice*100)/100).toFixed(2)]})})]})})})]})});}}]);return OrderDetailsRow;}(React.Component);export default OrderDetailsRow;","map":{"version":3,"sources":["/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/components/Purchases/OrderDetailsRow.jsx"],"names":["React","SERVER_HOST","axios","OrderDetailsRow","props","state","productName","price","photos","get","product","productId","then","res","setState","data","map","photo","filename","errorMessage","console","log","document","getElementById","_id","src","image","totalPrice","quantity","index","status","Math","round","toFixed","Component"],"mappings":"ojBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,+BAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,2FAEMC,CAAAA,e,8HACJ,yBAAYC,KAAZ,CAAmB,iDACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,WAAW,CAAE,EADF,CAEXC,KAAK,CAAE,CAFI,CAGXC,MAAM,CAAE,EAHG,CAAb,CAFiB,aAOlB,C,6DACD,4BAAoB,iBAClBN,KAAK,CACFO,GADH,WACUR,WADV,sBACkC,KAAKG,KAAL,CAAWM,OAAX,CAAmBC,SADrD,GAEGC,IAFH,CAEQ,SAACC,GAAD,CAAS,CACb,MAAI,CAACC,QAAL,CAAc,CACZR,WAAW,CAAEO,GAAG,CAACE,IAAJ,CAAST,WADV,CAEZC,KAAK,CAAEM,GAAG,CAACE,IAAJ,CAASR,KAFJ,CAGZC,MAAM,CAAEK,GAAG,CAACE,IAAJ,CAASP,MAHL,CAAd,EAMAK,GAAG,CAACE,IAAJ,CAASP,MAAT,CAAgBQ,GAAhB,CAAoB,SAACC,KAAD,CAAW,CAC7B,MAAOf,CAAAA,KAAK,CACTO,GADI,WACGR,WADH,4BACiCgB,KAAK,CAACC,QADvC,GAEJN,IAFI,CAEC,SAACC,GAAD,CAAS,CACb,GAAIA,GAAG,CAACE,IAAR,CAAc,CACZ,GAAIF,GAAG,CAACE,IAAJ,CAASI,YAAb,CAA2B,CACzBC,OAAO,CAACC,GAAR,CAAYR,GAAG,CAACE,IAAJ,CAASI,YAArB,EACD,CAFD,IAEO,CACLG,QAAQ,CAACC,cAAT,CACEN,KAAK,CAACO,GADR,EAEEC,GAFF,wBAEwBZ,GAAG,CAACE,IAAJ,CAASW,KAFjC,EAGD,CACF,CARD,IAQO,CACLN,OAAO,CAACC,GAAR,CAAY,kBAAZ,EACD,CACF,CAdI,CAAP,CAeD,CAhBD,EAiBD,CA1BH,EA2BD,C,sBAED,iBAAS,CACP,GAAIM,CAAAA,UAAU,CAAG,KAAKtB,KAAL,CAAWE,KAAX,CAAmB,KAAKH,KAAL,CAAWM,OAAX,CAAmBkB,QAAvD,CACA,mBACE,YAAK,SAAS,CAAC,wFAAf,uBACE,aAAK,SAAS,CAAC,KAAf,WACG,KAAKvB,KAAL,CAAWG,MAAX,CAAkBQ,GAAlB,CAAsB,SAACC,KAAD,CAAQY,KAAR,QACrBA,CAAAA,KAAK,GAAK,CAAV,cACE,YACE,SAAS,CAAC,UADZ,CAGE,EAAE,CAAEZ,KAAK,CAACO,GAHZ,CAIE,GAAG,CAAC,SAJN,CAKE,KAAK,CAAC,KALR,EAEOP,KAAK,CAACO,GAFb,CADF,CAQI,IATiB,EAAtB,CADH,cAaE,YAAK,SAAS,CAAC,wDAAf,uBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,aAAK,SAAS,CAAC,MAAf,wBACE,YAAK,SAAS,CAAC,eAAf,uBACE,oCACE,oBAAK,KAAKnB,KAAL,CAAWC,WAAhB,EADF,cAEE,mBAAI,KAAKF,KAAL,CAAWM,OAAX,CAAmBoB,MAAvB,EAFF,GADF,EADF,cAOE,aAAK,SAAS,CAAC,4BAAf,wBACE,oCADF,cAGE,4BAAQ,KAAK1B,KAAL,CAAWM,OAAX,CAAmBkB,QAA3B,GAHF,GAPF,cAYE,YAAK,SAAS,CAAC,uBAAf,uBACE,iCACI,CAACG,IAAI,CAACC,KAAL,CAAWL,UAAU,CAAG,GAAxB,EAA+B,GAAhC,EAAqCM,OAArC,CAA6C,CAA7C,CADJ,GADF,EAZF,GADF,EADF,EAbF,GADF,EADF,CAwCD,C,6BAjF2BjC,KAAK,CAACkC,S,EAoFpC,cAAe/B,CAAAA,eAAf","sourcesContent":["import React from \"react\";\nimport { SERVER_HOST } from \"../../config/global_constants\";\nimport axios from \"axios\";\n\nclass OrderDetailsRow extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      productName: \"\",\n      price: 0,\n      photos: [],\n    };\n  }\n  componentDidMount() {\n    axios\n      .get(`${SERVER_HOST}/products/${this.props.product.productId}`)\n      .then((res) => {\n        this.setState({\n          productName: res.data.productName,\n          price: res.data.price,\n          photos: res.data.photos,\n        });\n\n        res.data.photos.map((photo) => {\n          return axios\n            .get(`${SERVER_HOST}/products/photo/${photo.filename}`)\n            .then((res) => {\n              if (res.data) {\n                if (res.data.errorMessage) {\n                  console.log(res.data.errorMessage);\n                } else {\n                  document.getElementById(\n                    photo._id\n                  ).src = `data:;base64,${res.data.image}`;\n                }\n              } else {\n                console.log(\"Record not found\");\n              }\n            });\n        });\n      });\n  }\n\n  render() {\n    let totalPrice = this.state.price * this.props.product.quantity;\n    return (\n      <div className=\"ml-2 mt-0 mb-2 d-flex align-items-center justify-contents-center p-2 order-details-row\">\n        <div className=\"row\">\n          {this.state.photos.map((photo, index) =>\n            index === 0 ? (\n              <img\n                className=\"rounded \"\n                key={photo._id}\n                id={photo._id}\n                alt=\"Product\"\n                width=\"200\"\n              />\n            ) : null\n          )}\n\n          <div className=\" d-flex align-items-center justify-content-center w-80\">\n            <div className=\"info details-row\">\n              <div className=\"row \">\n                <div className=\"col-md-5 ml-4\">\n                  <div>\n                    <h6>{this.state.productName}</h6>\n                    <p>{this.props.product.status}</p>\n                  </div>\n                </div>\n                <div className=\"ml-2 w-30 quantity-details\">\n                  <label>Quantity:</label>\n\n                  <span> {this.props.product.quantity}</span>\n                </div>\n                <div className=\"ml-5 quantity-details\">\n                  <span>\n                    â‚¬{(Math.round(totalPrice * 100) / 100).toFixed(2)}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default OrderDetailsRow;\n"]},"metadata":{},"sourceType":"module"}