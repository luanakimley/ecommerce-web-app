{"ast":null,"code":"import _classCallCheck from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import axios from\"axios\";import{SERVER_HOST}from\"../config/global_constants.js\";import{Link}from\"react-router-dom\";import{Carousel}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SingleProduct=/*#__PURE__*/function(_React$Component){_inherits(SingleProduct,_React$Component);var _super=_createSuper(SingleProduct);function SingleProduct(){_classCallCheck(this,SingleProduct);return _super.apply(this,arguments);}_createClass(SingleProduct,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.location.state.product.photos.map(function(photo){return axios.get(\"\".concat(SERVER_HOST,\"/products/photo/\").concat(photo.filename)).then(function(res){if(res.data){if(res.data.errorMessage){console.log(res.data.errorMessage);}else{document.getElementById(photo._id).src=\"data:;base64,\".concat(res.data.image);}}else{console.log(\"Record not found\");}});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"section\",{className:\"h-100 single_product_details_area d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"single_product_thumb clearfix\",children:/*#__PURE__*/_jsx(\"div\",{className:\"product_thumbnail_slides \",children:/*#__PURE__*/_jsx(Carousel,{nextLabel:\"\",prevLabel:\"\",indicators:false,children:this.props.location.state.product.photos.map(function(photo){return/*#__PURE__*/_jsx(Carousel.Item,{children:/*#__PURE__*/_jsx(\"img\",{id:photo._id})},photo._id);})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"single_product_desc clearfix\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"d-flex\",children:this.props.location.state.product.categories.map(function(g,i,l){return i+1===l.length?/*#__PURE__*/_jsxs(\"span\",{className:\"ml-1\",children:[\" \",g,\" \"]},g):/*#__PURE__*/_jsxs(\"span\",{children:[\" \",g,\" | \"]},g);})}),/*#__PURE__*/_jsx(\"a\",{children:/*#__PURE__*/_jsx(\"h2\",{children:this.props.location.state.product.productName})}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[\"\\u20AC\",this.props.location.state.product.price]}),/*#__PURE__*/_jsx(\"p\",{className:\"product-desc\",children:this.props.location.state.product.description}),/*#__PURE__*/_jsx(\"form\",{className:\"cart-form clearfix\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cart-fav-box d-flex align-items-center\",children:[\" \",/*#__PURE__*/_jsx(Link,{to:{pathname:\"/addtocart/\"+this.props.location.state.product._id+\"/\"+this.props.location.state.product.price+\"/\"+this.props.location.state.product.stock,state:{navTo:\"/shop\"}},children:/*#__PURE__*/_jsx(\"button\",{name:\"addtocart\",className:\"btn essence-btn\",children:\"Add to cart\"})})]})})]})]});}}]);return SingleProduct;}(React.Component);export{SingleProduct as default};","map":{"version":3,"sources":["/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/pages/SingleProduct.jsx"],"names":["React","axios","SERVER_HOST","Link","Carousel","SingleProduct","props","location","state","product","photos","map","photo","get","filename","then","res","data","errorMessage","console","log","document","getElementById","_id","src","image","categories","g","i","l","length","productName","price","description","pathname","stock","navTo","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { SERVER_HOST } from \"../config/global_constants.js\";\nimport { Link } from \"react-router-dom\";\nimport { Carousel } from \"react-bootstrap\";\n\nexport default class SingleProduct extends React.Component {\n  componentDidMount() {\n    this.props.location.state.product.photos.map((photo) => {\n      return axios\n        .get(`${SERVER_HOST}/products/photo/${photo.filename}`)\n        .then((res) => {\n          if (res.data) {\n            if (res.data.errorMessage) {\n              console.log(res.data.errorMessage);\n            } else {\n              document.getElementById(\n                photo._id\n              ).src = `data:;base64,${res.data.image}`;\n            }\n          } else {\n            console.log(\"Record not found\");\n          }\n        });\n    });\n  }\n\n  render() {\n    return (\n      <section className=\"h-100 single_product_details_area d-flex align-items-center\">\n        <div className=\"single_product_thumb clearfix\">\n          <div className=\"product_thumbnail_slides \">\n            <Carousel nextLabel=\"\" prevLabel=\"\" indicators={false}>\n              {this.props.location.state.product.photos.map((photo) => {\n                return (\n                  <Carousel.Item key={photo._id}>\n                    <img id={photo._id} />\n                  </Carousel.Item>\n                );\n              })}\n            </Carousel>\n          </div>\n        </div>\n\n        <div className=\"single_product_desc clearfix\">\n          <span className=\"d-flex\">\n            {this.props.location.state.product.categories.map((g, i, l) =>\n              i + 1 === l.length ? (\n                <span className=\"ml-1\" key={g}>\n                  {\" \"}\n                  {g}{\" \"}\n                </span>\n              ) : (\n                <span key={g}> {g} | </span>\n              )\n            )}\n          </span>\n          <a>\n            <h2>{this.props.location.state.product.productName}</h2>\n          </a>\n          <p className=\"product-price\">\n            â‚¬{this.props.location.state.product.price}\n          </p>\n          <p className=\"product-desc\">\n            {this.props.location.state.product.description}\n          </p>\n\n          <form className=\"cart-form clearfix\">\n            <div className=\"cart-fav-box d-flex align-items-center\">\n              {\" \"}\n              <Link\n                to={{\n                  pathname:\n                    \"/addtocart/\" +\n                    this.props.location.state.product._id +\n                    \"/\" +\n                    this.props.location.state.product.price +\n                    \"/\" +\n                    this.props.location.state.product.stock,\n                  state: {\n                    navTo: `/shop`,\n                  },\n                }}\n              >\n                <button name=\"addtocart\" className=\"btn essence-btn\">\n                  Add to cart\n                </button>\n              </Link>\n            </div>\n          </form>\n        </div>\n      </section>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}