{"ast":null,"code":"import _classCallCheck from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import axios from\"axios\";import{SERVER_HOST}from\"../../config/global_constants\";import ShopBanner from\"../ShopBanner\";import OrderDetailsRow from\"./OrderDetailsRow\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OrderDetails=/*#__PURE__*/function(_React$Component){_inherits(OrderDetails,_React$Component);var _super=_createSuper(OrderDetails);function OrderDetails(props){var _this;_classCallCheck(this,OrderDetails);_this=_super.call(this,props);_this.state={products:[],user:\"\",photos:[],quantity:[]};return _this;}_createClass(OrderDetails,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.defaults.withCredentials=true;axios.get(\"\".concat(SERVER_HOST,\"/orders/\").concat(this.props.match.params.id),{headers:{authorization:localStorage.token}}).then(function(res){var products=[];res.data.products.map(function(product,index){products[index]=product;_this2.setState({products:products});});_this2.setState({user:\"guest\"});if(res.data.userId!==\"undefined\"){axios.get(\"\".concat(SERVER_HOST,\"/users/\").concat(res.data.userId),{headers:{authorization:localStorage.token}}).then(function(res){_this2.setState({user:res.data.email});});}});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column align-items-center\",children:[/*#__PURE__*/_jsx(ShopBanner,{title:\"Order Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\" container p-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-center mb-4\",children:\"Products\"}),this.state.products.map(function(product){return/*#__PURE__*/_jsx(OrderDetailsRow,{product:product},product._id);}),/*#__PURE__*/_jsx(Link,{to:{pathname:\"/order/return/\".concat(this.props.location.state.order._id),state:{order:this.props.location.state.order}},children:/*#__PURE__*/_jsx(\"p\",{className:\"text-center m-1\",children:/*#__PURE__*/_jsx(\"u\",{children:\"Return item?\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light p-3 order-details-summary mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-center mb-4\",children:\"Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Payment method: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"float-right\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Paypal\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Order by: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"float-right\",children:this.state.user})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Subtotal: \"}),/*#__PURE__*/_jsxs(\"span\",{className:\"float-right\",children:[\"\\u20AC\",this.props.location.state.order.amount]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Shipping cost: \"}),/*#__PURE__*/_jsxs(\"span\",{className:\"float-right\",children:[\"\\u20AC\",this.props.location.state.order.shippingCost]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item mt-3\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total: \"}),/*#__PURE__*/_jsxs(\"span\",{className:\"float-right\",children:[\"\\u20AC\",this.props.location.state.order.amount+this.props.location.state.order.shippingCost]})]})]})]});}}]);return OrderDetails;}(React.Component);export default OrderDetails;","map":{"version":3,"sources":["/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/components/Purchases/OrderDetails.jsx"],"names":["React","axios","SERVER_HOST","ShopBanner","OrderDetailsRow","Link","OrderDetails","props","state","products","user","photos","quantity","defaults","withCredentials","get","match","params","id","headers","authorization","localStorage","token","then","res","data","map","product","index","setState","userId","email","_id","pathname","location","order","amount","shippingCost","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { SERVER_HOST } from \"../../config/global_constants\";\nimport ShopBanner from \"../ShopBanner\";\nimport OrderDetailsRow from \"./OrderDetailsRow\";\nimport { Link } from \"react-router-dom\";\n\nclass OrderDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: [],\n      user: \"\",\n      photos: [],\n      quantity: [],\n    };\n  }\n\n  componentDidMount() {\n    axios.defaults.withCredentials = true;\n\n    axios\n      .get(`${SERVER_HOST}/orders/${this.props.match.params.id}`, {\n        headers: { authorization: localStorage.token },\n      })\n      .then((res) => {\n        let products = [];\n        res.data.products.map((product, index) => {\n          products[index] = product;\n          this.setState({ products: products });\n        });\n\n        this.setState({ user: \"guest\" });\n\n        if (res.data.userId !== \"undefined\") {\n          axios\n            .get(`${SERVER_HOST}/users/${res.data.userId}`, {\n              headers: { authorization: localStorage.token },\n            })\n            .then((res) => {\n              this.setState({ user: res.data.email });\n            });\n        } \n      });\n  }\n\n  render() {\n    return (\n      <div className=\"d-flex flex-column align-items-center\">\n        <ShopBanner title=\"Order Details\" />\n        <div className=\" container p-3\">\n          <h4 className=\"text-center mb-4\">Products</h4>\n          {this.state.products.map((product) => (\n            <OrderDetailsRow key={product._id} product={product} />\n          ))}\n          <Link\n            to={{\n              pathname: `/order/return/${this.props.location.state.order._id}`,\n              state: {\n                order: this.props.location.state.order,\n              },\n            }}\n          >\n            <p className=\"text-center m-1\">\n              <u>Return item?</u>\n            </p>\n          </Link>\n        </div>\n\n        <div className=\"bg-light p-3 order-details-summary mb-4\">\n          <h4 className=\"text-center mb-4\">Summary</h4>\n          <div className=\"summary-item\">\n            <span>Payment method: </span>\n            <span className=\"float-right\">\n              <strong>Paypal</strong>\n            </span>\n          </div>\n          <div className=\"summary-item\">\n            <span>Order by: </span>\n            <span className=\"float-right\">{this.state.user}</span>\n          </div>\n          <div className=\"summary-item\">\n            <span>Subtotal: </span>\n            <span className=\"float-right\">\n              €{this.props.location.state.order.amount}\n            </span>\n          </div>\n          <div className=\"summary-item\">\n            <span>Shipping cost: </span>\n            <span className=\"float-right\">\n              €{this.props.location.state.order.shippingCost}\n            </span>\n          </div>\n          <div className=\"summary-item mt-3\">\n            <span>Total: </span>\n            <span className=\"float-right\">\n              €\n              {this.props.location.state.order.amount +\n                this.props.location.state.order.shippingCost}\n            </span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default OrderDetails;\n"]},"metadata":{},"sourceType":"module"}