{"ast":null,"code":"import _classCallCheck from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{Link}from\"react-router-dom\";import{Pencil,Trash}from\"react-bootstrap-icons\";import{ACCESS_LEVEL_ADMIN,SERVER_HOST}from\"../../config/global_constants\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OutOfStockProductBox=/*#__PURE__*/function(_React$Component){_inherits(OutOfStockProductBox,_React$Component);var _super=_createSuper(OutOfStockProductBox);function OutOfStockProductBox(){_classCallCheck(this,OutOfStockProductBox);return _super.apply(this,arguments);}_createClass(OutOfStockProductBox,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.product.photos.map(function(photo){return axios.get(\"\".concat(SERVER_HOST,\"/products/photo/\").concat(photo.filename)).then(function(res){if(res.data){if(res.data.errorMessage){console.log(res.data.errorMessage);}else{document.getElementById(photo._id).src=\"data:;base64,\".concat(res.data.image);}}else{console.log(\"Record not found\");}});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-sm-6 col-lg-4 \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"single-product-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-img opacity-50\",children:this.props.product.photos.map(function(photo,index){if(index===0){return/*#__PURE__*/_jsx(\"img\",{alt:\"Product\",id:photo._id},photo._id);}else if(index===1){return/*#__PURE__*/_jsx(\"img\",{alt:\"Product\",id:photo._id,className:\"hover-img\"},photo._id);}else{return null;}})}),/*#__PURE__*/_jsx(\"h4\",{className:\"out-of-stock position-absolute rounded-circle p-3 \",children:\"Out of Stock\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-description opacity-50\",children:[/*#__PURE__*/_jsx(\"span\",{children:this.props.product.categories.map(function(g,i,l){return i+1===l.length?/*#__PURE__*/_jsxs(\"span\",{children:[\" \",g,\" \"]},g):/*#__PURE__*/_jsxs(\"span\",{children:[\" \",g,\" |\"]},g);})}),/*#__PURE__*/_jsx(\"a\",{children:/*#__PURE__*/_jsx(\"h6\",{children:this.props.product.productName})}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-price opacity-50\",children:[\"\\u20AC\",(Math.round(this.props.product.price*100)/100).toFixed(2)]}),localStorage.accessLevel==ACCESS_LEVEL_ADMIN?/*#__PURE__*/_jsxs(\"div\",{className:\"icons-in-box\",children:[/*#__PURE__*/_jsx(Link,{to:\"/editproduct/\"+this.props.product._id,children:/*#__PURE__*/_jsx(Pencil,{className:\"mr-2\",color:\"#787878\",size:20})}),/*#__PURE__*/_jsx(Link,{to:\"/deleteproduct/\"+this.props.product._id,children:/*#__PURE__*/_jsx(Trash,{className:\"mr-1\",color:\"#787878\",size:20})})]}):null]})]})});}}]);return OutOfStockProductBox;}(React.Component);export{OutOfStockProductBox as default};","map":{"version":3,"sources":["/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/components/ProductArea/OutOfStockProductBox.jsx"],"names":["React","Link","Pencil","Trash","ACCESS_LEVEL_ADMIN","SERVER_HOST","axios","OutOfStockProductBox","props","product","photos","map","photo","get","filename","then","res","data","errorMessage","console","log","document","getElementById","_id","src","image","index","categories","g","i","l","length","productName","Math","round","price","toFixed","localStorage","accessLevel","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Pencil, Trash } from \"react-bootstrap-icons\";\nimport { ACCESS_LEVEL_ADMIN, SERVER_HOST } from \"../../config/global_constants\";\nimport axios from \"axios\";\n\nexport default class OutOfStockProductBox extends React.Component {\n  componentDidMount() {\n    this.props.product.photos.map((photo) => {\n      return axios\n        .get(`${SERVER_HOST}/products/photo/${photo.filename}`)\n        .then((res) => {\n          if (res.data) {\n            if (res.data.errorMessage) {\n              console.log(res.data.errorMessage);\n            } else {\n              document.getElementById(\n                photo._id\n              ).src = `data:;base64,${res.data.image}`;\n            }\n          } else {\n            console.log(\"Record not found\");\n          }\n        });\n    });\n  }\n  render() {\n    return (\n      <div className=\"col-12 col-sm-6 col-lg-4 \">\n        <div className=\"single-product-wrapper\">\n          <div className=\"product-img opacity-50\">\n            {this.props.product.photos.map((photo, index) => {\n              if (index === 0) {\n                return <img key={photo._id} alt=\"Product\" id={photo._id} />;\n              } else if (index === 1) {\n                return (\n                  <img\n                    key={photo._id}\n                    alt=\"Product\"\n                    id={photo._id}\n                    className=\"hover-img\"\n                  />\n                );\n              } else {\n                return null;\n              }\n            })}\n          </div>\n\n          <h4 className=\"out-of-stock position-absolute rounded-circle p-3 \">\n            Out of Stock\n          </h4>\n\n          <div className=\"product-description opacity-50\">\n            <span>\n              {this.props.product.categories.map((g, i, l) =>\n                i + 1 === l.length ? (\n                  <span key={g}> {g} </span>\n                ) : (\n                  <span key={g}> {g} |</span>\n                )\n              )}\n            </span>\n\n            <a>\n              <h6>{this.props.product.productName}</h6>\n            </a>\n            <p className=\"product-price opacity-50\">\n              â‚¬{(Math.round(this.props.product.price * 100) / 100).toFixed(2)}\n            </p>\n            {localStorage.accessLevel == ACCESS_LEVEL_ADMIN ? (\n              <div className=\"icons-in-box\">\n                <Link to={\"/editproduct/\" + this.props.product._id}>\n                  <Pencil className=\"mr-2\" color=\"#787878\" size={20} />\n                </Link>\n                <Link to={\"/deleteproduct/\" + this.props.product._id}>\n                  <Trash className=\"mr-1\" color=\"#787878\" size={20} />\n                </Link>\n              </div>\n            ) : null}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}