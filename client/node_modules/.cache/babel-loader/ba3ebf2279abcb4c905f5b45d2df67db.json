{"ast":null,"code":"var _jsxFileName = \"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/components/AdminDashboard/DeleteUser.jsx\";\nimport axios from \"axios\";\nimport React from \"react\";\nimport Swal from \"sweetalert2\";\nimport { Redirect, useParams, withRouter } from \"react-router-dom\";\nimport { SERVER_HOST } from \"../../config/global_constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass DeleteUser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redirectToHome: false\n    };\n  }\n\n  componentDidMount() {\n    axios.defaults.withCredentials = true;\n    const MySwal = Swal.mixin({\n      customClass: {\n        confirmButton: \"btn btn-success mr-2\",\n        cancelButton: \"btn btn-danger ml-2\"\n      },\n      buttonsStyling: false\n    });\n    MySwal.fire({\n      title: \"Are you sure you want to delete this?\",\n      text: \"You won't be able to revert this!\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#5cb85c\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes, delete it!\"\n    }).then(result => {\n      if (result.isConfirmed) {\n        axios.delete(`${SERVER_HOST}/users/${this.props.match.params.id}`, {\n          headers: {\n            authorization: localStorage.token\n          }\n        }).then(res => {\n          if (res.data) {\n            if (res.data.errorMessage) {\n              console.log(res.data.errorMessage);\n            } // success\n            else {\n              console.log(\"User deleted\");\n            }\n\n            this.setState({\n              redirectToHome: true\n            });\n          } else {\n            console.log(\"User not deleted\");\n            this.setState({\n              redirectToHome: true\n            });\n          }\n        });\n        MySwal.fire({\n          title: \"Deleted!\",\n          text: \"The user has been deleted.\",\n          icon: \"success\",\n          showConfirmButton: false,\n          timer: 1500\n        });\n      } else {\n        this.setState({\n          redirectToHome: true\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.state.redirectToHome ? /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/admindashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 38\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(DeleteUser);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/components/AdminDashboard/DeleteUser.jsx"],"names":["axios","React","Swal","Redirect","useParams","withRouter","SERVER_HOST","DeleteUser","Component","constructor","props","state","redirectToHome","componentDidMount","defaults","withCredentials","MySwal","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","delete","match","params","id","headers","authorization","localStorage","token","res","data","errorMessage","console","log","setState","showConfirmButton","timer","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,UAA9B,QAAgD,kBAAhD;AACA,SAASC,WAAT,QAA4B,+BAA5B;;;AAEA,MAAMC,UAAN,SAAyBN,KAAK,CAACO,SAA/B,CAAyC;AACvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,cAAc,EAAE;AADL,KAAb;AAGD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBb,IAAAA,KAAK,CAACc,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AAEA,UAAMC,MAAM,GAAGd,IAAI,CAACe,KAAL,CAAW;AACxBC,MAAAA,WAAW,EAAE;AACXC,QAAAA,aAAa,EAAE,sBADJ;AAEXC,QAAAA,YAAY,EAAE;AAFH,OADW;AAKxBC,MAAAA,cAAc,EAAE;AALQ,KAAX,CAAf;AAQAL,IAAAA,MAAM,CAACM,IAAP,CAAY;AACVC,MAAAA,KAAK,EAAE,uCADG;AAEVC,MAAAA,IAAI,EAAE,mCAFI;AAGVC,MAAAA,IAAI,EAAE,SAHI;AAIVC,MAAAA,gBAAgB,EAAE,IAJR;AAKVC,MAAAA,kBAAkB,EAAE,SALV;AAMVC,MAAAA,iBAAiB,EAAE,MANT;AAOVC,MAAAA,iBAAiB,EAAE;AAPT,KAAZ,EAQGC,IARH,CAQSC,MAAD,IAAY;AAClB,UAAIA,MAAM,CAACC,WAAX,EAAwB;AACtBhC,QAAAA,KAAK,CACFiC,MADH,CACW,GAAE3B,WAAY,UAAS,KAAKI,KAAL,CAAWwB,KAAX,CAAiBC,MAAjB,CAAwBC,EAAG,EAD7D,EACgE;AAC5DC,UAAAA,OAAO,EAAE;AAAEC,YAAAA,aAAa,EAAEC,YAAY,CAACC;AAA9B;AADmD,SADhE,EAIGV,IAJH,CAISW,GAAD,IAAS;AACb,cAAIA,GAAG,CAACC,IAAR,EAAc;AACZ,gBAAID,GAAG,CAACC,IAAJ,CAASC,YAAb,EAA2B;AACzBC,cAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACC,IAAJ,CAASC,YAArB;AACD,aAFD,CAEE;AAFF,iBAGK;AACHC,cAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACD;;AACD,iBAAKC,QAAL,CAAc;AAAElC,cAAAA,cAAc,EAAE;AAAlB,aAAd;AACD,WARD,MAQO;AACLgC,YAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,iBAAKC,QAAL,CAAc;AAAElC,cAAAA,cAAc,EAAE;AAAlB,aAAd;AACD;AACF,SAjBH;AAkBAI,QAAAA,MAAM,CAACM,IAAP,CAAY;AACVC,UAAAA,KAAK,EAAE,UADG;AAEVC,UAAAA,IAAI,EAAE,4BAFI;AAGVC,UAAAA,IAAI,EAAE,SAHI;AAIVsB,UAAAA,iBAAiB,EAAE,KAJT;AAKVC,UAAAA,KAAK,EAAE;AALG,SAAZ;AAOD,OA1BD,MA0BO;AACL,aAAKF,QAAL,CAAc;AAAElC,UAAAA,cAAc,EAAE;AAAlB,SAAd;AACD;AACF,KAtCD;AAuCD;;AAEDqC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,gBACG,KAAKtC,KAAL,CAAWC,cAAX,gBAA4B,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAA5B,GAAgE;AADnE;AAAA;AAAA;AAAA;AAAA,YADF;AAKD;;AAnEsC;;AAsEzC,oBAAeP,UAAU,CAACE,UAAD,CAAzB","sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport Swal from \"sweetalert2\";\nimport { Redirect, useParams, withRouter } from \"react-router-dom\";\nimport { SERVER_HOST } from \"../../config/global_constants\";\n\nclass DeleteUser extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      redirectToHome: false,\n    };\n  }\n\n  componentDidMount() {\n    axios.defaults.withCredentials = true;\n\n    const MySwal = Swal.mixin({\n      customClass: {\n        confirmButton: \"btn btn-success mr-2\",\n        cancelButton: \"btn btn-danger ml-2\",\n      },\n      buttonsStyling: false,\n    });\n\n    MySwal.fire({\n      title: \"Are you sure you want to delete this?\",\n      text: \"You won't be able to revert this!\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#5cb85c\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes, delete it!\",\n    }).then((result) => {\n      if (result.isConfirmed) {\n        axios\n          .delete(`${SERVER_HOST}/users/${this.props.match.params.id}`, {\n            headers: { authorization: localStorage.token },\n          })\n          .then((res) => {\n            if (res.data) {\n              if (res.data.errorMessage) {\n                console.log(res.data.errorMessage);\n              } // success\n              else {\n                console.log(\"User deleted\");\n              }\n              this.setState({ redirectToHome: true });\n            } else {\n              console.log(\"User not deleted\");\n              this.setState({ redirectToHome: true });\n            }\n          });\n        MySwal.fire({\n          title: \"Deleted!\",\n          text: \"The user has been deleted.\",\n          icon: \"success\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      } else {\n        this.setState({ redirectToHome: true });\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.redirectToHome ? <Redirect to=\"/admindashboard\" /> : null}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(DeleteUser);\n"]},"metadata":{},"sourceType":"module"}