{"ast":null,"code":"import _classCallCheck from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import axios from\"axios\";import{Redirect}from\"react-router-dom\";import{SERVER_HOST}from\"../../config/global_constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LogOut=/*#__PURE__*/function(_React$Component){_inherits(LogOut,_React$Component);var _super=_createSuper(LogOut);function LogOut(props){var _this;_classCallCheck(this,LogOut);_this=_super.call(this,props);_this.handleSubmit=function(e){e.preventDefault();axios.post(\"\".concat(SERVER_HOST,\"/users/logout\")).then(function(res){console.log(\"User signed out\");localStorage.clear();_this.setState({isLoggedIn:false});});};_this.state={isLoggedIn:true,backToHome:false};return _this;}_createClass(LogOut,[{key:\"refreshPage\",value:function refreshPage(){window.location.reload(false);this.setState({isLoggedIn:true});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[!this.state.isLoggedIn?this.refreshPage():localStorage.accessLevel==0?/*#__PURE__*/_jsx(Redirect,{to:\"/\"}):null,/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:this.handleSubmit,children:\"Sign Out\"})]});}}]);return LogOut;}(React.Component);export default LogOut;","map":{"version":3,"sources":["/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/components/UserForms/LogOut.jsx"],"names":["React","axios","Redirect","SERVER_HOST","LogOut","props","handleSubmit","e","preventDefault","post","then","res","console","log","localStorage","clear","setState","isLoggedIn","state","backToHome","window","location","reload","refreshPage","accessLevel","Component"],"mappings":"ojBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,OAASC,WAAT,KAA4B,+BAA5B,C,2FAEMC,CAAAA,M,4GACJ,gBAAYC,KAAZ,CAAmB,wCACjB,uBAAMA,KAAN,EADiB,MAQnBC,YARmB,CAQJ,SAACC,CAAD,CAAO,CACpBA,CAAC,CAACC,cAAF,GAEAP,KAAK,CAACQ,IAAN,WAAcN,WAAd,mBAA0CO,IAA1C,CAA+C,SAACC,GAAD,CAAS,CACtDC,OAAO,CAACC,GAAR,CAAY,iBAAZ,EACAC,YAAY,CAACC,KAAb,GAEA,MAAKC,QAAL,CAAc,CAAEC,UAAU,CAAE,KAAd,CAAd,EACD,CALD,EAMD,CAjBkB,CAEjB,MAAKC,KAAL,CAAa,CACXD,UAAU,CAAE,IADD,CAEXE,UAAU,CAAE,KAFD,CAAb,CAFiB,aAMlB,C,8CAaD,sBAAc,CACZC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EACA,KAAKN,QAAL,CAAc,CAAEC,UAAU,CAAE,IAAd,CAAd,EACD,C,sBAED,iBAAS,CACP,mBACE,uBACG,CAAC,KAAKC,KAAL,CAAWD,UAAZ,CACC,KAAKM,WAAL,EADD,CAEGT,YAAY,CAACU,WAAb,EAA4B,CAA5B,cACF,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EADE,CAEA,IALN,cAOE,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAE,KAAKlB,YAAjD,sBAPF,GADF,CAaD,C,oBAvCkBN,KAAK,CAACyB,S,EA0C3B,cAAerB,CAAAA,MAAf","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nimport { SERVER_HOST } from \"../../config/global_constants\";\n\nclass LogOut extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoggedIn: true,\n      backToHome: false,\n    };\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    axios.post(`${SERVER_HOST}/users/logout`).then((res) => {\n      console.log(\"User signed out\");\n      localStorage.clear();\n\n      this.setState({ isLoggedIn: false });\n    });\n  };\n\n  refreshPage() {\n    window.location.reload(false);\n    this.setState({ isLoggedIn: true });\n  }\n\n  render() {\n    return (\n      <div>\n        {!this.state.isLoggedIn ? (\n          this.refreshPage()\n        ) : localStorage.accessLevel == 0 ? (\n          <Redirect to=\"/\" />\n        ) : null}\n\n        <button className=\"btn btn-danger\" onClick={this.handleSubmit}>\n          Sign Out\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default LogOut;\n"]},"metadata":{},"sourceType":"module"}