{"ast":null,"code":"import _classCallCheck from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import axios from\"axios\";import{ACCESS_LEVEL_ADMIN,ACCESS_LEVEL_NORMAL_USER,SERVER_HOST}from\"../../config/global_constants\";import{EmojiFrown}from\"react-bootstrap-icons\";import{Link}from\"react-router-dom\";import ReturnsRow from\"./ReturnsRow\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AllReturns=/*#__PURE__*/function(_React$Component){_inherits(AllReturns,_React$Component);var _super=_createSuper(AllReturns);function AllReturns(props){var _this;_classCallCheck(this,AllReturns);_this=_super.call(this,props);_this.state={returns:[]};return _this;}_createClass(AllReturns,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.defaults.withCredentials=true;if(parseInt(localStorage.accessLevel)===ACCESS_LEVEL_ADMIN){axios.get(\"\".concat(SERVER_HOST,\"/return\"),{headers:{authorization:localStorage.token}}).then(function(res){if(res.data){if(res.data.errorMessage){console.log(res.data.errorMessage);}else{console.log(\"Returns record read\");_this2.setState({returns:res.data});}}else{console.log(\"Returns record not found\");}});}else if(parseInt(localStorage.accessLevel)===ACCESS_LEVEL_NORMAL_USER){axios.get(\"\".concat(SERVER_HOST,\"/return/user/\").concat(localStorage._id),{headers:{authorization:localStorage.token}}).then(function(res){if(res.data){if(res.data.errorMessage){console.log(res.data.errorMessage);}else{console.log(\"Returns record read\");_this2.setState({returns:res.data});}}else{console.log(\"Returns record not found\");}});}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:this.state.returns.length!==0?this.state.returns.map(function(order){return/*#__PURE__*/_jsx(Link,{to:{pathname:\"/return/\".concat(order._id),state:{order:order}},children:/*#__PURE__*/_jsx(ReturnsRow,{order:order})});}):/*#__PURE__*/_jsxs(\"div\",{className:\"container text-center\",children:[/*#__PURE__*/_jsx(EmojiFrown,{className:\"mt-2\",size:\"50\",color:\"black\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-3 \",children:\"No returns\"})]})});}}]);return AllReturns;}(React.Component);export default AllReturns;","map":{"version":3,"sources":["/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/components/Purchases/AllReturns.jsx"],"names":["React","axios","ACCESS_LEVEL_ADMIN","ACCESS_LEVEL_NORMAL_USER","SERVER_HOST","EmojiFrown","Link","ReturnsRow","AllReturns","props","state","returns","defaults","withCredentials","parseInt","localStorage","accessLevel","get","headers","authorization","token","then","res","data","errorMessage","console","log","setState","_id","length","map","order","pathname","Component"],"mappings":"ojBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACEC,kBADF,CAEEC,wBAFF,CAGEC,WAHF,KAIO,+BAJP,CAKA,OAASC,UAAT,KAA2B,uBAA3B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,C,2FAEMC,CAAAA,U,oHACJ,oBAAYC,KAAZ,CAAmB,4CACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,OAAO,CAAE,EADE,CAAb,CAFiB,aAKlB,C,wDACD,4BAAoB,iBAClBV,KAAK,CAACW,QAAN,CAAeC,eAAf,CAAiC,IAAjC,CAEA,GAAIC,QAAQ,CAACC,YAAY,CAACC,WAAd,CAAR,GAAuCd,kBAA3C,CAA+D,CAC7DD,KAAK,CACFgB,GADH,WACUb,WADV,YACgC,CAC5Bc,OAAO,CAAE,CAAEC,aAAa,CAAEJ,YAAY,CAACK,KAA9B,CADmB,CADhC,EAIGC,IAJH,CAIQ,SAACC,GAAD,CAAS,CACb,GAAIA,GAAG,CAACC,IAAR,CAAc,CACZ,GAAID,GAAG,CAACC,IAAJ,CAASC,YAAb,CAA2B,CACzBC,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACC,IAAJ,CAASC,YAArB,EACD,CAFD,IAEO,CACLC,OAAO,CAACC,GAAR,CAAY,qBAAZ,EACA,MAAI,CAACC,QAAL,CAAc,CAAEhB,OAAO,CAAEW,GAAG,CAACC,IAAf,CAAd,EACD,CACF,CAPD,IAOO,CACLE,OAAO,CAACC,GAAR,CAAY,0BAAZ,EACD,CACF,CAfH,EAgBD,CAjBD,IAiBO,IACLZ,QAAQ,CAACC,YAAY,CAACC,WAAd,CAAR,GAAuCb,wBADlC,CAEL,CACAF,KAAK,CACFgB,GADH,WACUb,WADV,yBACqCW,YAAY,CAACa,GADlD,EACyD,CACrDV,OAAO,CAAE,CAAEC,aAAa,CAAEJ,YAAY,CAACK,KAA9B,CAD4C,CADzD,EAIGC,IAJH,CAIQ,SAACC,GAAD,CAAS,CACb,GAAIA,GAAG,CAACC,IAAR,CAAc,CACZ,GAAID,GAAG,CAACC,IAAJ,CAASC,YAAb,CAA2B,CACzBC,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACC,IAAJ,CAASC,YAArB,EACD,CAFD,IAEO,CACLC,OAAO,CAACC,GAAR,CAAY,qBAAZ,EACA,MAAI,CAACC,QAAL,CAAc,CAAEhB,OAAO,CAAEW,GAAG,CAACC,IAAf,CAAd,EACD,CACF,CAPD,IAOO,CACLE,OAAO,CAACC,GAAR,CAAY,0BAAZ,EACD,CACF,CAfH,EAgBD,CACF,C,sBAED,iBAAS,CACP,mBACE,qBACG,KAAKhB,KAAL,CAAWC,OAAX,CAAmBkB,MAAnB,GAA8B,CAA9B,CACC,KAAKnB,KAAL,CAAWC,OAAX,CAAmBmB,GAAnB,CAAuB,SAACC,KAAD,qBACrB,KAAC,IAAD,EACE,EAAE,CAAE,CACFC,QAAQ,mBAAaD,KAAK,CAACH,GAAnB,CADN,CAEFlB,KAAK,CAAE,CACLqB,KAAK,CAAEA,KADF,CAFL,CADN,uBAQE,KAAC,UAAD,EAAY,KAAK,CAAEA,KAAnB,EARF,EADqB,EAAvB,CADD,cAcC,aAAK,SAAS,CAAC,uBAAf,wBACE,KAAC,UAAD,EAAY,SAAS,CAAC,MAAtB,CAA6B,IAAI,CAAC,IAAlC,CAAuC,KAAK,CAAC,OAA7C,EADF,cAEE,WAAI,SAAS,CAAC,OAAd,wBAFF,GAfJ,EADF,CAuBD,C,wBAzEsB/B,KAAK,CAACiC,S,EA4E/B,cAAezB,CAAAA,UAAf","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport {\n  ACCESS_LEVEL_ADMIN,\n  ACCESS_LEVEL_NORMAL_USER,\n  SERVER_HOST,\n} from \"../../config/global_constants\";\nimport { EmojiFrown } from \"react-bootstrap-icons\";\nimport { Link } from \"react-router-dom\";\nimport ReturnsRow from \"./ReturnsRow\";\n\nclass AllReturns extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      returns: [],\n    };\n  }\n  componentDidMount() {\n    axios.defaults.withCredentials = true;\n\n    if (parseInt(localStorage.accessLevel) === ACCESS_LEVEL_ADMIN) {\n      axios\n        .get(`${SERVER_HOST}/return`, {\n          headers: { authorization: localStorage.token },\n        })\n        .then((res) => {\n          if (res.data) {\n            if (res.data.errorMessage) {\n              console.log(res.data.errorMessage);\n            } else {\n              console.log(\"Returns record read\");\n              this.setState({ returns: res.data });\n            }\n          } else {\n            console.log(\"Returns record not found\");\n          }\n        });\n    } else if (\n      parseInt(localStorage.accessLevel) === ACCESS_LEVEL_NORMAL_USER\n    ) {\n      axios\n        .get(`${SERVER_HOST}/return/user/${localStorage._id}`, {\n          headers: { authorization: localStorage.token },\n        })\n        .then((res) => {\n          if (res.data) {\n            if (res.data.errorMessage) {\n              console.log(res.data.errorMessage);\n            } else {\n              console.log(\"Returns record read\");\n              this.setState({ returns: res.data });\n            }\n          } else {\n            console.log(\"Returns record not found\");\n          }\n        });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.returns.length !== 0 ? (\n          this.state.returns.map((order) => (\n            <Link\n              to={{\n                pathname: `/return/${order._id}`,\n                state: {\n                  order: order,\n                },\n              }}\n            >\n              <ReturnsRow order={order} />\n            </Link>\n          ))\n        ) : (\n          <div className=\"container text-center\">\n            <EmojiFrown className=\"mt-2\" size=\"50\" color=\"black\" />\n            <h3 className=\"mt-3 \">No returns</h3>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default AllReturns;\n"]},"metadata":{},"sourceType":"module"}