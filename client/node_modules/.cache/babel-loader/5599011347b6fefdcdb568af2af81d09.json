{"ast":null,"code":"import _classCallCheck from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import axios from\"axios\";import React from\"react\";import Swal from\"sweetalert2\";import{Redirect,useParams,withRouter}from\"react-router-dom\";import{SERVER_HOST}from\"../../config/global_constants\";import{jsx as _jsx}from\"react/jsx-runtime\";var DeleteProduct=/*#__PURE__*/function(_React$Component){_inherits(DeleteProduct,_React$Component);var _super=_createSuper(DeleteProduct);function DeleteProduct(props){var _this;_classCallCheck(this,DeleteProduct);_this=_super.call(this,props);_this.state={redirectToHome:false};return _this;}_createClass(DeleteProduct,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.defaults.withCredentials=true;var MySwal=Swal.mixin({customClass:{confirmButton:\"btn btn-success mr-2\",cancelButton:\"btn btn-danger ml-2\"},buttonsStyling:false});MySwal.fire({title:\"Are you sure you want to delete this?\",text:\"You won't be able to revert this!\",icon:\"warning\",showCancelButton:true,confirmButtonColor:\"#5cb85c\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes, delete it!\"}).then(function(result){if(result.isConfirmed){axios.delete(\"\".concat(SERVER_HOST,\"/products/\").concat(_this2.props.match.params.id),{headers:{authorization:localStorage.token}}).then(function(res){if(res.data){if(res.data.errorMessage){console.log(res.data.errorMessage);MySwal.fire({title:\"Product not deleted!\",text:res.data.errorMessage,icon:\"error\",showConfirmButton:false,timer:2000});}// success\nelse{console.log(\"Product deleted\");MySwal.fire({title:\"Deleted!\",text:\"The product has been deleted.\",icon:\"success\",showConfirmButton:false,timer:1500});}_this2.setState({redirectToHome:true});}else{console.log(\"Product not deleted\");_this2.setState({redirectToHome:true});}});}else{_this2.setState({redirectToHome:true});}});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:this.state.redirectToHome?/*#__PURE__*/_jsx(Redirect,{to:\"/shop\"}):null});}}]);return DeleteProduct;}(React.Component);export default withRouter(DeleteProduct);","map":{"version":3,"sources":["/Users/luanakimley/nodejs-projects/ecommerce-web-app/client/src/components/ProductForms/DeleteProduct.jsx"],"names":["axios","React","Swal","Redirect","useParams","withRouter","SERVER_HOST","DeleteProduct","props","state","redirectToHome","defaults","withCredentials","MySwal","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","delete","match","params","id","headers","authorization","localStorage","token","res","data","errorMessage","console","log","showConfirmButton","timer","setState","Component"],"mappings":"ojBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,aAAjB,CACA,OAASC,QAAT,CAAmBC,SAAnB,CAA8BC,UAA9B,KAAgD,kBAAhD,CACA,OAASC,WAAT,KAA4B,+BAA5B,C,8CAEMC,CAAAA,a,0HACJ,uBAAYC,KAAZ,CAAmB,+CACjB,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACXC,cAAc,CAAE,KADL,CAAb,CAHiB,aAMlB,C,2DAED,4BAAoB,iBAClBV,KAAK,CAACW,QAAN,CAAeC,eAAf,CAAiC,IAAjC,CAEA,GAAMC,CAAAA,MAAM,CAAGX,IAAI,CAACY,KAAL,CAAW,CACxBC,WAAW,CAAE,CACXC,aAAa,CAAE,sBADJ,CAEXC,YAAY,CAAE,qBAFH,CADW,CAKxBC,cAAc,CAAE,KALQ,CAAX,CAAf,CAQAL,MAAM,CAACM,IAAP,CAAY,CACVC,KAAK,CAAE,uCADG,CAEVC,IAAI,CAAE,mCAFI,CAGVC,IAAI,CAAE,SAHI,CAIVC,gBAAgB,CAAE,IAJR,CAKVC,kBAAkB,CAAE,SALV,CAMVC,iBAAiB,CAAE,MANT,CAOVC,iBAAiB,CAAE,iBAPT,CAAZ,EAQGC,IARH,CAQQ,SAACC,MAAD,CAAY,CAClB,GAAIA,MAAM,CAACC,WAAX,CAAwB,CACtB7B,KAAK,CACF8B,MADH,WACaxB,WADb,sBACqC,MAAI,CAACE,KAAL,CAAWuB,KAAX,CAAiBC,MAAjB,CAAwBC,EAD7D,EACmE,CAC/DC,OAAO,CAAE,CAAEC,aAAa,CAAEC,YAAY,CAACC,KAA9B,CADsD,CADnE,EAIGV,IAJH,CAIQ,SAACW,GAAD,CAAS,CACb,GAAIA,GAAG,CAACC,IAAR,CAAc,CACZ,GAAID,GAAG,CAACC,IAAJ,CAASC,YAAb,CAA2B,CACzBC,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACC,IAAJ,CAASC,YAArB,EACA3B,MAAM,CAACM,IAAP,CAAY,CACVC,KAAK,CAAE,sBADG,CAEVC,IAAI,CAAEiB,GAAG,CAACC,IAAJ,CAASC,YAFL,CAGVlB,IAAI,CAAE,OAHI,CAIVqB,iBAAiB,CAAE,KAJT,CAKVC,KAAK,CAAE,IALG,CAAZ,EAOD,CAAC;AATF,IAUK,CACHH,OAAO,CAACC,GAAR,CAAY,iBAAZ,EACA7B,MAAM,CAACM,IAAP,CAAY,CACVC,KAAK,CAAE,UADG,CAEVC,IAAI,CAAE,+BAFI,CAGVC,IAAI,CAAE,SAHI,CAIVqB,iBAAiB,CAAE,KAJT,CAKVC,KAAK,CAAE,IALG,CAAZ,EAOD,CACD,MAAI,CAACC,QAAL,CAAc,CAAEnC,cAAc,CAAE,IAAlB,CAAd,EACD,CAtBD,IAsBO,CACL+B,OAAO,CAACC,GAAR,CAAY,qBAAZ,EACA,MAAI,CAACG,QAAL,CAAc,CAAEnC,cAAc,CAAE,IAAlB,CAAd,EACD,CACF,CA/BH,EAgCD,CAjCD,IAiCO,CACL,MAAI,CAACmC,QAAL,CAAc,CAAEnC,cAAc,CAAE,IAAlB,CAAd,EACD,CACF,CA7CD,EA8CD,C,sBAED,iBAAS,CACP,mBACE,qBAAM,KAAKD,KAAL,CAAWC,cAAX,cAA4B,KAAC,QAAD,EAAU,EAAE,CAAC,OAAb,EAA5B,CAAsD,IAA5D,EADF,CAGD,C,2BAxEyBT,KAAK,CAAC6C,S,EA2ElC,cAAezC,CAAAA,UAAU,CAACE,aAAD,CAAzB","sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport Swal from \"sweetalert2\";\nimport { Redirect, useParams, withRouter } from \"react-router-dom\";\nimport { SERVER_HOST } from \"../../config/global_constants\";\n\nclass DeleteProduct extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      redirectToHome: false,\n    };\n  }\n\n  componentDidMount() {\n    axios.defaults.withCredentials = true;\n\n    const MySwal = Swal.mixin({\n      customClass: {\n        confirmButton: \"btn btn-success mr-2\",\n        cancelButton: \"btn btn-danger ml-2\",\n      },\n      buttonsStyling: false,\n    });\n\n    MySwal.fire({\n      title: \"Are you sure you want to delete this?\",\n      text: \"You won't be able to revert this!\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#5cb85c\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes, delete it!\",\n    }).then((result) => {\n      if (result.isConfirmed) {\n        axios\n          .delete(`${SERVER_HOST}/products/${this.props.match.params.id}`, {\n            headers: { authorization: localStorage.token },\n          })\n          .then((res) => {\n            if (res.data) {\n              if (res.data.errorMessage) {\n                console.log(res.data.errorMessage);\n                MySwal.fire({\n                  title: \"Product not deleted!\",\n                  text: res.data.errorMessage,\n                  icon: \"error\",\n                  showConfirmButton: false,\n                  timer: 2000,\n                });\n              } // success\n              else {\n                console.log(\"Product deleted\");\n                MySwal.fire({\n                  title: \"Deleted!\",\n                  text: \"The product has been deleted.\",\n                  icon: \"success\",\n                  showConfirmButton: false,\n                  timer: 1500,\n                });\n              }\n              this.setState({ redirectToHome: true });\n            } else {\n              console.log(\"Product not deleted\");\n              this.setState({ redirectToHome: true });\n            }\n          });\n      } else {\n        this.setState({ redirectToHome: true });\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div>{this.state.redirectToHome ? <Redirect to=\"/shop\" /> : null}</div>\n    );\n  }\n}\n\nexport default withRouter(DeleteProduct);\n"]},"metadata":{},"sourceType":"module"}